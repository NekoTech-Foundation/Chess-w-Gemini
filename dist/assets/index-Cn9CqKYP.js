var va=Object.defineProperty;var ba=(e,t,n)=>t in e?va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>ba(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kr(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const me={},yn=[],Ot=()=>{},Co=()=>!1,ks=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Lr=e=>e.startsWith("onUpdate:"),Pe=Object.assign,Dr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ya=Object.prototype.hasOwnProperty,ce=(e,t)=>ya.call(e,t),X=Array.isArray,En=e=>Ls(e)==="[object Map]",So=e=>Ls(e)==="[object Set]",Z=e=>typeof e=="function",Se=e=>typeof e=="string",Xt=e=>typeof e=="symbol",ve=e=>e!==null&&typeof e=="object",Ao=e=>(ve(e)||Z(e))&&Z(e.then)&&Z(e.catch),wo=Object.prototype.toString,Ls=e=>wo.call(e),Ea=e=>Ls(e).slice(8,-1),xo=e=>Ls(e)==="[object Object]",$r=e=>Se(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gn=kr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ds=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ca=/-\w/g,ft=Ds(e=>e.replace(Ca,t=>t.slice(1).toUpperCase())),Sa=/\B([A-Z])/g,fn=Ds(e=>e.replace(Sa,"-$1").toLowerCase()),$s=Ds(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qs=Ds(e=>e?`on${$s(e)}`:""),Qt=(e,t)=>!Object.is(e,t),Js=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ro=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Aa=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let fi;const Fs=()=>fi||(fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fr(e){if(X(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Se(s)?Oa(s):Fr(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(Se(e)||ve(e))return e}const wa=/;(?![^(]*\))/g,xa=/:([^]+)/,Ra=/\/\*[^]*?\*\//g;function Oa(e){const t={};return e.replace(Ra,"").split(wa).forEach(n=>{if(n){const s=n.split(xa);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Rt(e){let t="";if(Se(e))t=e;else if(X(e))for(let n=0;n<e.length;n++){const s=Rt(e[n]);s&&(t+=s+" ")}else if(ve(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ia="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ta=kr(Ia);function Oo(e){return!!e||e===""}const Io=e=>!!(e&&e.__v_isRef===!0),et=e=>Se(e)?e:e==null?"":X(e)||ve(e)&&(e.toString===wo||!Z(e.toString))?Io(e)?et(e.value):JSON.stringify(e,To,2):String(e),To=(e,t)=>Io(t)?To(e,t.value):En(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[zs(s,i)+" =>"]=r,n),{})}:So(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>zs(n))}:Xt(t)?zs(t):ve(t)&&!X(t)&&!xo(t)?String(t):t,zs=(e,t="")=>{var n;return Xt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qe;class Na{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Qe,!t&&Qe&&(this.index=(Qe.scopes||(Qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Qe;try{return Qe=this,t()}finally{Qe=n}}}on(){++this._on===1&&(this.prevScope=Qe,Qe=this)}off(){this._on>0&&--this._on===0&&(Qe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Pa(){return Qe}let ge;const Xs=new WeakSet;class No{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Qe&&Qe.active&&Qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xs.has(this)&&(Xs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Mo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,hi(this),ko(this);const t=ge,n=gt;ge=this,gt=!0;try{return this.fn()}finally{Lo(this),ge=t,gt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ur(t);this.deps=this.depsTail=void 0,hi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_r(this)&&this.run()}get dirty(){return _r(this)}}let Po=0,Kn,Un;function Mo(e,t=!1){if(e.flags|=8,t){e.next=Un,Un=e;return}e.next=Kn,Kn=e}function Gr(){Po++}function Kr(){if(--Po>0)return;if(Un){let t=Un;for(Un=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Kn;){let t=Kn;for(Kn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function ko(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Lo(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Ur(s),Ma(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function _r(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Do(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Do(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Qn)||(e.globalVersion=Qn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!_r(e))))return;e.flags|=2;const t=e.dep,n=ge,s=gt;ge=e,gt=!0;try{ko(e);const r=e.fn(e._value);(t.version===0||Qt(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ge=n,gt=s,Lo(e),e.flags&=-3}}function Ur(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ur(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ma(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let gt=!0;const $o=[];function kt(){$o.push(gt),gt=!1}function Lt(){const e=$o.pop();gt=e===void 0?!0:e}function hi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ge;ge=void 0;try{t()}finally{ge=n}}}let Qn=0;class ka{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Br{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ge||!gt||ge===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ge)n=this.activeLink=new ka(ge,this),ge.deps?(n.prevDep=ge.depsTail,ge.depsTail.nextDep=n,ge.depsTail=n):ge.deps=ge.depsTail=n,Fo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ge.depsTail,n.nextDep=void 0,ge.depsTail.nextDep=n,ge.depsTail=n,ge.deps===n&&(ge.deps=s)}return n}trigger(t){this.version++,Qn++,this.notify(t)}notify(t){Gr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Kr()}}}function Fo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Fo(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const vr=new WeakMap,ln=Symbol(""),br=Symbol(""),Jn=Symbol("");function Fe(e,t,n){if(gt&&ge){let s=vr.get(e);s||vr.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new Br),r.map=s,r.key=n),r.track()}}function Mt(e,t,n,s,r,i){const o=vr.get(e);if(!o){Qn++;return}const l=a=>{a&&a.trigger()};if(Gr(),t==="clear")o.forEach(l);else{const a=X(e),u=a&&$r(n);if(a&&n==="length"){const c=Number(s);o.forEach((f,h)=>{(h==="length"||h===Jn||!Xt(h)&&h>=c)&&l(f)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(Jn)),t){case"add":a?u&&l(o.get("length")):(l(o.get(ln)),En(e)&&l(o.get(br)));break;case"delete":a||(l(o.get(ln)),En(e)&&l(o.get(br)));break;case"set":En(e)&&l(o.get(ln));break}}Kr()}function pn(e){const t=ae(e);return t===e?t:(Fe(t,"iterate",Jn),ut(e)?t:t.map(_t))}function Gs(e){return Fe(e=ae(e),"iterate",Jn),e}function Bt(e,t){return Dt(e)?wn(an(e)?_t(t):t):_t(t)}const La={__proto__:null,[Symbol.iterator](){return Zs(this,Symbol.iterator,e=>Bt(this,e))},concat(...e){return pn(this).concat(...e.map(t=>X(t)?pn(t):t))},entries(){return Zs(this,"entries",e=>(e[1]=Bt(this,e[1]),e))},every(e,t){return Tt(this,"every",e,t,void 0,arguments)},filter(e,t){return Tt(this,"filter",e,t,n=>n.map(s=>Bt(this,s)),arguments)},find(e,t){return Tt(this,"find",e,t,n=>Bt(this,n),arguments)},findIndex(e,t){return Tt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Tt(this,"findLast",e,t,n=>Bt(this,n),arguments)},findLastIndex(e,t){return Tt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Tt(this,"forEach",e,t,void 0,arguments)},includes(...e){return er(this,"includes",e)},indexOf(...e){return er(this,"indexOf",e)},join(e){return pn(this).join(e)},lastIndexOf(...e){return er(this,"lastIndexOf",e)},map(e,t){return Tt(this,"map",e,t,void 0,arguments)},pop(){return Pn(this,"pop")},push(...e){return Pn(this,"push",e)},reduce(e,...t){return di(this,"reduce",e,t)},reduceRight(e,...t){return di(this,"reduceRight",e,t)},shift(){return Pn(this,"shift")},some(e,t){return Tt(this,"some",e,t,void 0,arguments)},splice(...e){return Pn(this,"splice",e)},toReversed(){return pn(this).toReversed()},toSorted(e){return pn(this).toSorted(e)},toSpliced(...e){return pn(this).toSpliced(...e)},unshift(...e){return Pn(this,"unshift",e)},values(){return Zs(this,"values",e=>Bt(this,e))}};function Zs(e,t,n){const s=Gs(e),r=s[t]();return s!==e&&!ut(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const Da=Array.prototype;function Tt(e,t,n,s,r,i){const o=Gs(e),l=o!==e&&!ut(e),a=o[t];if(a!==Da[t]){const f=a.apply(e,i);return l?_t(f):f}let u=n;o!==e&&(l?u=function(f,h){return n.call(this,Bt(e,f),h,e)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,e)}));const c=a.call(o,u,s);return l&&r?r(c):c}function di(e,t,n,s){const r=Gs(e);let i=n;return r!==e&&(ut(e)?n.length>3&&(i=function(o,l,a){return n.call(this,o,l,a,e)}):i=function(o,l,a){return n.call(this,o,Bt(e,l),a,e)}),r[t](i,...s)}function er(e,t,n){const s=ae(e);Fe(s,"iterate",Jn);const r=s[t](...n);return(r===-1||r===!1)&&qr(n[0])?(n[0]=ae(n[0]),s[t](...n)):r}function Pn(e,t,n=[]){kt(),Gr();const s=ae(e)[t].apply(e,n);return Kr(),Lt(),s}const $a=kr("__proto__,__v_isRef,__isVue"),Go=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xt));function Fa(e){Xt(e)||(e=String(e));const t=ae(this);return Fe(t,"has",e),t.hasOwnProperty(e)}class Ko{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Ya:jo:i?Ho:Bo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=X(t);if(!r){let a;if(o&&(a=La[n]))return a;if(n==="hasOwnProperty")return Fa}const l=Reflect.get(t,n,Ue(t)?t:s);if((Xt(n)?Go.has(n):$a(n))||(r||Fe(t,"get",n),i))return l;if(Ue(l)){const a=o&&$r(n)?l:l.value;return r&&ve(a)?Er(a):a}return ve(l)?r?Er(l):Ks(l):l}}class Uo extends Ko{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];const o=X(t)&&$r(n);if(!this._isShallow){const u=Dt(i);if(!ut(s)&&!Dt(s)&&(i=ae(i),s=ae(s)),!o&&Ue(i)&&!Ue(s))return u||(i.value=s),!0}const l=o?Number(n)<t.length:ce(t,n),a=Reflect.set(t,n,s,Ue(t)?t:r);return t===ae(r)&&(l?Qt(s,i)&&Mt(t,"set",n,s):Mt(t,"add",n,s)),a}deleteProperty(t,n){const s=ce(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Mt(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Xt(n)||!Go.has(n))&&Fe(t,"has",n),s}ownKeys(t){return Fe(t,"iterate",X(t)?"length":ln),Reflect.ownKeys(t)}}class Ga extends Ko{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ka=new Uo,Ua=new Ga,Ba=new Uo(!0);const yr=e=>e,fs=e=>Reflect.getPrototypeOf(e);function Ha(e,t,n){return function(...s){const r=this.__v_raw,i=ae(r),o=En(i),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,u=r[e](...s),c=n?yr:t?wn:_t;return!t&&Fe(i,"iterate",a?br:ln),Pe(Object.create(u),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:l?[c(f[0]),c(f[1])]:c(f),done:h}}})}}function hs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ja(e,t){const n={get(r){const i=this.__v_raw,o=ae(i),l=ae(r);e||(Qt(r,l)&&Fe(o,"get",r),Fe(o,"get",l));const{has:a}=fs(o),u=t?yr:e?wn:_t;if(a.call(o,r))return u(i.get(r));if(a.call(o,l))return u(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Fe(ae(r),"iterate",ln),r.size},has(r){const i=this.__v_raw,o=ae(i),l=ae(r);return e||(Qt(r,l)&&Fe(o,"has",r),Fe(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,a=ae(l),u=t?yr:e?wn:_t;return!e&&Fe(a,"iterate",ln),l.forEach((c,f)=>r.call(i,u(c),u(f),o))}};return Pe(n,e?{add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear")}:{add(r){!t&&!ut(r)&&!Dt(r)&&(r=ae(r));const i=ae(this);return fs(i).has.call(i,r)||(i.add(r),Mt(i,"add",r,r)),this},set(r,i){!t&&!ut(i)&&!Dt(i)&&(i=ae(i));const o=ae(this),{has:l,get:a}=fs(o);let u=l.call(o,r);u||(r=ae(r),u=l.call(o,r));const c=a.call(o,r);return o.set(r,i),u?Qt(i,c)&&Mt(o,"set",r,i):Mt(o,"add",r,i),this},delete(r){const i=ae(this),{has:o,get:l}=fs(i);let a=o.call(i,r);a||(r=ae(r),a=o.call(i,r)),l&&l.call(i,r);const u=i.delete(r);return a&&Mt(i,"delete",r,void 0),u},clear(){const r=ae(this),i=r.size!==0,o=r.clear();return i&&Mt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Ha(r,e,t)}),n}function Hr(e,t){const n=ja(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(ce(n,r)&&r in s?n:s,r,i)}const qa={get:Hr(!1,!1)},Va={get:Hr(!1,!0)},Wa={get:Hr(!0,!1)};const Bo=new WeakMap,Ho=new WeakMap,jo=new WeakMap,Ya=new WeakMap;function Qa(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ja(e){return e.__v_skip||!Object.isExtensible(e)?0:Qa(Ea(e))}function Ks(e){return Dt(e)?e:jr(e,!1,Ka,qa,Bo)}function qo(e){return jr(e,!1,Ba,Va,Ho)}function Er(e){return jr(e,!0,Ua,Wa,jo)}function jr(e,t,n,s,r){if(!ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Ja(e);if(i===0)return e;const o=r.get(e);if(o)return o;const l=new Proxy(e,i===2?s:n);return r.set(e,l),l}function an(e){return Dt(e)?an(e.__v_raw):!!(e&&e.__v_isReactive)}function Dt(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function qr(e){return e?!!e.__v_raw:!1}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function za(e){return!ce(e,"__v_skip")&&Object.isExtensible(e)&&Ro(e,"__v_skip",!0),e}const _t=e=>ve(e)?Ks(e):e,wn=e=>ve(e)?Er(e):e;function Ue(e){return e?e.__v_isRef===!0:!1}function _e(e){return Vo(e,!1)}function Xa(e){return Vo(e,!0)}function Vo(e,t){return Ue(e)?e:new Za(e,t)}class Za{constructor(t,n){this.dep=new Br,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ae(t),this._value=n?t:_t(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||ut(t)||Dt(t);t=s?t:ae(t),Qt(t,n)&&(this._rawValue=t,this._value=s?t:_t(t),this.dep.trigger())}}function he(e){return Ue(e)?e.value:e}const ec={get:(e,t,n)=>t==="__v_raw"?e:he(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ue(r)&&!Ue(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Wo(e){return an(e)?e:new Proxy(e,ec)}class tc{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Br(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ge!==this)return Mo(this,!0),!0}get value(){const t=this.dep.track();return Do(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function nc(e,t,n=!1){let s,r;return Z(e)?s=e:(s=e.get,r=e.set),new tc(s,r,n)}const ds={},ws=new WeakMap;let rn;function sc(e,t=!1,n=rn){if(n){let s=ws.get(n);s||ws.set(n,s=[]),s.push(e)}}function rc(e,t,n=me){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:a}=n,u=P=>r?P:ut(P)||r===!1||r===0?Yt(P,1):Yt(P);let c,f,h,g,m=!1,b=!1;if(Ue(e)?(f=()=>e.value,m=ut(e)):an(e)?(f=()=>u(e),m=!0):X(e)?(b=!0,m=e.some(P=>an(P)||ut(P)),f=()=>e.map(P=>{if(Ue(P))return P.value;if(an(P))return u(P);if(Z(P))return a?a(P,2):P()})):Z(e)?t?f=a?()=>a(e,2):e:f=()=>{if(h){kt();try{h()}finally{Lt()}}const P=rn;rn=c;try{return a?a(e,3,[g]):e(g)}finally{rn=P}}:f=Ot,t&&r){const P=f,ee=r===!0?1/0:r;f=()=>Yt(P(),ee)}const R=Pa(),I=()=>{c.stop(),R&&R.active&&Dr(R.effects,c)};if(i&&t){const P=t;t=(...ee)=>{P(...ee),I()}}let T=b?new Array(e.length).fill(ds):ds;const M=P=>{if(!(!(c.flags&1)||!c.dirty&&!P))if(t){const ee=c.run();if(r||m||(b?ee.some((de,re)=>Qt(de,T[re])):Qt(ee,T))){h&&h();const de=rn;rn=c;try{const re=[ee,T===ds?void 0:b&&T[0]===ds?[]:T,g];T=ee,a?a(t,3,re):t(...re)}finally{rn=de}}}else c.run()};return l&&l(M),c=new No(f),c.scheduler=o?()=>o(M,!1):M,g=P=>sc(P,!1,c),h=c.onStop=()=>{const P=ws.get(c);if(P){if(a)a(P,4);else for(const ee of P)ee();ws.delete(c)}},t?s?M(!0):T=c.run():o?o(M.bind(null,!0),!0):c.run(),I.pause=c.pause.bind(c),I.resume=c.resume.bind(c),I.stop=I,I}function Yt(e,t=1/0,n){if(t<=0||!ve(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ue(e))Yt(e.value,t,n);else if(X(e))for(let s=0;s<e.length;s++)Yt(e[s],t,n);else if(So(e)||En(e))e.forEach(s=>{Yt(s,t,n)});else if(xo(e)){for(const s in e)Yt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Yt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rs(e,t,n,s){try{return s?e(...s):e()}catch(r){Us(r,t,n)}}function It(e,t,n,s){if(Z(e)){const r=rs(e,t,n,s);return r&&Ao(r)&&r.catch(i=>{Us(i,t,n)}),r}if(X(e)){const r=[];for(let i=0;i<e.length;i++)r.push(It(e[i],t,n,s));return r}}function Us(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||me;if(t){let l=t.parent;const a=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const c=l.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,a,u)===!1)return}l=l.parent}if(i){kt(),rs(i,null,10,[e,a,u]),Lt();return}}ic(e,n,r,s,o)}function ic(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const We=[];let At=-1;const Cn=[];let Ht=null,mn=0;const Yo=Promise.resolve();let xs=null;function Qo(e){const t=xs||Yo;return e?t.then(this?e.bind(this):e):t}function oc(e){let t=At+1,n=We.length;for(;t<n;){const s=t+n>>>1,r=We[s],i=zn(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function Vr(e){if(!(e.flags&1)){const t=zn(e),n=We[We.length-1];!n||!(e.flags&2)&&t>=zn(n)?We.push(e):We.splice(oc(t),0,e),e.flags|=1,Jo()}}function Jo(){xs||(xs=Yo.then(Xo))}function lc(e){X(e)?Cn.push(...e):Ht&&e.id===-1?Ht.splice(mn+1,0,e):e.flags&1||(Cn.push(e),e.flags|=1),Jo()}function pi(e,t,n=At+1){for(;n<We.length;n++){const s=We[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;We.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function zo(e){if(Cn.length){const t=[...new Set(Cn)].sort((n,s)=>zn(n)-zn(s));if(Cn.length=0,Ht){Ht.push(...t);return}for(Ht=t,mn=0;mn<Ht.length;mn++){const n=Ht[mn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ht=null,mn=0}}const zn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Xo(e){try{for(At=0;At<We.length;At++){const t=We[At];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;At<We.length;At++){const t=We[At];t&&(t.flags&=-2)}At=-1,We.length=0,zo(),xs=null,(We.length||Cn.length)&&Xo()}}let pt=null,Zo=null;function Rs(e){const t=pt;return pt=e,Zo=e&&e.type.__scopeId||null,t}function ac(e,t=pt,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Ts(-1);const i=Rs(t);let o;try{o=e(...r)}finally{Rs(i),s._d&&Ts(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function tn(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let a=l.dir[s];a&&(kt(),It(a,n,8,[e.el,l,e,t]),Lt())}}function vs(e,t){if(Ge){let n=Ge.provides;const s=Ge.parent&&Ge.parent.provides;s===n&&(n=Ge.provides=Object.create(s)),n[e]=t}}function mt(e,t,n=!1){const s=cu();if(s||An){let r=An?An._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Z(t)?t.call(s&&s.proxy):t}}const cc=Symbol.for("v-scx"),uc=()=>mt(cc);function Bn(e,t,n){return el(e,t,n)}function el(e,t,n=me){const{immediate:s,deep:r,flush:i,once:o}=n,l=Pe({},n),a=t&&s||!t&&i!=="post";let u;if(Zn){if(i==="sync"){const g=uc();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!a){const g=()=>{};return g.stop=Ot,g.resume=Ot,g.pause=Ot,g}}const c=Ge;l.call=(g,m,b)=>It(g,c,m,b);let f=!1;i==="post"?l.scheduler=g=>{Ze(g,c&&c.suspense)}:i!=="sync"&&(f=!0,l.scheduler=(g,m)=>{m?g():Vr(g)}),l.augmentJob=g=>{t&&(g.flags|=4),f&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const h=rc(e,t,l);return Zn&&(u?u.push(h):a&&h()),h}function fc(e,t,n){const s=this.proxy,r=Se(e)?e.includes(".")?tl(s,e):()=>s[e]:e.bind(s,s);let i;Z(t)?i=t:(i=t.handler,n=t);const o=is(this),l=el(r,i.bind(s),n);return o(),l}function tl(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const hc=Symbol("_vte"),dc=e=>e.__isTeleport,pc=Symbol("_leaveCb");function Wr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Wr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function hn(e,t){return Z(e)?Pe({name:e.name},t,{setup:e}):e}function nl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Os=new WeakMap;function Hn(e,t,n,s,r=!1){if(X(e)){e.forEach((m,b)=>Hn(m,t&&(X(t)?t[b]:t),n,s,r));return}if(jn(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Hn(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?Zr(s.component):s.el,o=r?null:i,{i:l,r:a}=e,u=t&&t.r,c=l.refs===me?l.refs={}:l.refs,f=l.setupState,h=ae(f),g=f===me?Co:m=>ce(h,m);if(u!=null&&u!==a){if(gi(t),Se(u))c[u]=null,g(u)&&(f[u]=null);else if(Ue(u)){u.value=null;const m=t;m.k&&(c[m.k]=null)}}if(Z(a))rs(a,l,12,[o,c]);else{const m=Se(a),b=Ue(a);if(m||b){const R=()=>{if(e.f){const I=m?g(a)?f[a]:c[a]:a.value;if(r)X(I)&&Dr(I,i);else if(X(I))I.includes(i)||I.push(i);else if(m)c[a]=[i],g(a)&&(f[a]=c[a]);else{const T=[i];a.value=T,e.k&&(c[e.k]=T)}}else m?(c[a]=o,g(a)&&(f[a]=o)):b&&(a.value=o,e.k&&(c[e.k]=o))};if(o){const I=()=>{R(),Os.delete(e)};I.id=-1,Os.set(e,I),Ze(I,n)}else gi(e),R()}}}function gi(e){const t=Os.get(e);t&&(t.flags|=8,Os.delete(e))}Fs().requestIdleCallback;Fs().cancelIdleCallback;const jn=e=>!!e.type.__asyncLoader,sl=e=>e.type.__isKeepAlive;function gc(e,t){rl(e,"a",t)}function mc(e,t){rl(e,"da",t)}function rl(e,t,n=Ge){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Bs(t,s,n),n){let r=n.parent;for(;r&&r.parent;)sl(r.parent.vnode)&&_c(s,t,n,r),r=r.parent}}function _c(e,t,n,s){const r=Bs(t,e,s,!0);il(()=>{Dr(s[t],r)},n)}function Bs(e,t,n=Ge,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{kt();const l=is(n),a=It(t,n,e,o);return l(),Lt(),a});return s?r.unshift(i):r.push(i),i}}const $t=e=>(t,n=Ge)=>{(!Zn||e==="sp")&&Bs(e,(...s)=>t(...s),n)},vc=$t("bm"),Yr=$t("m"),bc=$t("bu"),yc=$t("u"),Ec=$t("bum"),il=$t("um"),Cc=$t("sp"),Sc=$t("rtg"),Ac=$t("rtc");function wc(e,t=Ge){Bs("ec",e,t)}const xc="components";function Rc(e,t){return Ic(xc,e,!0,t)||e}const Oc=Symbol.for("v-ndc");function Ic(e,t,n=!0,s=!1){const r=pt||Ge;if(r){const i=r.type;{const l=pu(i,!1);if(l&&(l===t||l===ft(t)||l===$s(ft(t))))return i}const o=mi(r[e]||i[e],t)||mi(r.appContext[e],t);return!o&&s?i:o}}function mi(e,t){return e&&(e[t]||e[ft(t)]||e[$s(ft(t))])}function Sn(e,t,n,s){let r;const i=n,o=X(e);if(o||Se(e)){const l=o&&an(e);let a=!1,u=!1;l&&(a=!ut(e),u=Dt(e),e=Gs(e)),r=new Array(e.length);for(let c=0,f=e.length;c<f;c++)r[c]=t(a?u?wn(_t(e[c])):_t(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,i)}else if(ve(e))if(e[Symbol.iterator])r=Array.from(e,(l,a)=>t(l,a,void 0,i));else{const l=Object.keys(e);r=new Array(l.length);for(let a=0,u=l.length;a<u;a++){const c=l[a];r[a]=t(e[c],c,a,i)}}else r=[];return r}const Cr=e=>e?Al(e)?Zr(e):Cr(e.parent):null,qn=Pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Cr(e.parent),$root:e=>Cr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ll(e),$forceUpdate:e=>e.f||(e.f=()=>{Vr(e.update)}),$nextTick:e=>e.n||(e.n=Qo.bind(e.proxy)),$watch:e=>fc.bind(e)}),tr=(e,t)=>e!==me&&!e.__isScriptSetup&&ce(e,t),Tc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:a}=e;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(tr(s,t))return o[t]=1,s[t];if(r!==me&&ce(r,t))return o[t]=2,r[t];if(ce(i,t))return o[t]=3,i[t];if(n!==me&&ce(n,t))return o[t]=4,n[t];Sr&&(o[t]=0)}}const u=qn[t];let c,f;if(u)return t==="$attrs"&&Fe(e.attrs,"get",""),u(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==me&&ce(n,t))return o[t]=4,n[t];if(f=a.config.globalProperties,ce(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return tr(r,t)?(r[t]=n,!0):s!==me&&ce(s,t)?(s[t]=n,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,props:i,type:o}},l){let a;return!!(n[l]||e!==me&&l[0]!=="$"&&ce(e,l)||tr(t,l)||ce(i,l)||ce(s,l)||ce(qn,l)||ce(r.config.globalProperties,l)||(a=o.__cssModules)&&a[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ce(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _i(e){return X(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Sr=!0;function Nc(e){const t=ll(e),n=e.proxy,s=e.ctx;Sr=!1,t.beforeCreate&&vi(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:l,provide:a,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:g,updated:m,activated:b,deactivated:R,beforeDestroy:I,beforeUnmount:T,destroyed:M,unmounted:P,render:ee,renderTracked:de,renderTriggered:re,errorCaptured:be,serverPrefetch:Me,expose:Ie,inheritAttrs:ze,components:st,directives:Be,filters:bt}=t;if(u&&Pc(u,s,null),o)for(const K in o){const z=o[K];Z(z)&&(s[K]=z.bind(n))}if(r){const K=r.call(n,n);ve(K)&&(e.data=Ks(K))}if(Sr=!0,i)for(const K in i){const z=i[K],Ae=Z(z)?z.bind(n,n):Z(z.get)?z.get.bind(n,n):Ot,ht=!Z(z)&&Z(z.set)?z.set.bind(n):Ot,it=tt({get:Ae,set:ht});Object.defineProperty(s,K,{enumerable:!0,configurable:!0,get:()=>it.value,set:ke=>it.value=ke})}if(l)for(const K in l)ol(l[K],s,n,K);if(a){const K=Z(a)?a.call(n):a;Reflect.ownKeys(K).forEach(z=>{vs(z,K[z])})}c&&vi(c,e,"c");function te(K,z){X(z)?z.forEach(Ae=>K(Ae.bind(n))):z&&K(z.bind(n))}if(te(vc,f),te(Yr,h),te(bc,g),te(yc,m),te(gc,b),te(mc,R),te(wc,be),te(Ac,de),te(Sc,re),te(Ec,T),te(il,P),te(Cc,Me),X(Ie))if(Ie.length){const K=e.exposed||(e.exposed={});Ie.forEach(z=>{Object.defineProperty(K,z,{get:()=>n[z],set:Ae=>n[z]=Ae,enumerable:!0})})}else e.exposed||(e.exposed={});ee&&e.render===Ot&&(e.render=ee),ze!=null&&(e.inheritAttrs=ze),st&&(e.components=st),Be&&(e.directives=Be),Me&&nl(e)}function Pc(e,t,n=Ot){X(e)&&(e=Ar(e));for(const s in e){const r=e[s];let i;ve(r)?"default"in r?i=mt(r.from||s,r.default,!0):i=mt(r.from||s):i=mt(r),Ue(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function vi(e,t,n){It(X(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function ol(e,t,n,s){let r=s.includes(".")?tl(n,s):()=>n[s];if(Se(e)){const i=t[e];Z(i)&&Bn(r,i)}else if(Z(e))Bn(r,e.bind(n));else if(ve(e))if(X(e))e.forEach(i=>ol(i,t,n,s));else{const i=Z(e.handler)?e.handler.bind(n):t[e.handler];Z(i)&&Bn(r,i,e)}}function ll(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let a;return l?a=l:!r.length&&!n&&!s?a=t:(a={},r.length&&r.forEach(u=>Is(a,u,o,!0)),Is(a,t,o)),ve(t)&&i.set(t,a),a}function Is(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&Is(e,i,n,!0),r&&r.forEach(o=>Is(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const l=Mc[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const Mc={data:bi,props:yi,emits:yi,methods:$n,computed:$n,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:$n,directives:$n,watch:Lc,provide:bi,inject:kc};function bi(e,t){return t?e?function(){return Pe(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function kc(e,t){return $n(Ar(e),Ar(t))}function Ar(e){if(X(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qe(e,t){return e?[...new Set([].concat(e,t))]:t}function $n(e,t){return e?Pe(Object.create(null),e,t):t}function yi(e,t){return e?X(e)&&X(t)?[...new Set([...e,...t])]:Pe(Object.create(null),_i(e),_i(t??{})):t}function Lc(e,t){if(!e)return t;if(!t)return e;const n=Pe(Object.create(null),e);for(const s in t)n[s]=qe(e[s],t[s]);return n}function al(){return{app:null,config:{isNativeTag:Co,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dc=0;function $c(e,t){return function(s,r=null){Z(s)||(s=Pe({},s)),r!=null&&!ve(r)&&(r=null);const i=al(),o=new WeakSet,l=[];let a=!1;const u=i.app={_uid:Dc++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:mu,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(u,...f)):Z(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,h){if(!a){const g=u._ceVNode||Je(s,r);return g.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(g,c,h),a=!0,u._container=c,c.__vue_app__=u,Zr(g.component)}},onUnmount(c){l.push(c)},unmount(){a&&(It(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=An;An=u;try{return c()}finally{An=f}}};return u}}let An=null;const Fc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ft(t)}Modifiers`]||e[`${fn(t)}Modifiers`];function Gc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||me;let r=n;const i=t.startsWith("update:"),o=i&&Fc(s,t.slice(7));o&&(o.trim&&(r=n.map(c=>Se(c)?c.trim():c)),o.number&&(r=n.map(Aa)));let l,a=s[l=Qs(t)]||s[l=Qs(ft(t))];!a&&i&&(a=s[l=Qs(fn(t))]),a&&It(a,e,6,r);const u=s[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,It(u,e,6,r)}}const Kc=new WeakMap;function cl(e,t,n=!1){const s=n?Kc:t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},l=!1;if(!Z(e)){const a=u=>{const c=cl(u,t,!0);c&&(l=!0,Pe(o,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!l?(ve(e)&&s.set(e,null),null):(X(i)?i.forEach(a=>o[a]=null):Pe(o,i),ve(e)&&s.set(e,o),o)}function Hs(e,t){return!e||!ks(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,fn(t))||ce(e,t))}function Ei(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:a,render:u,renderCache:c,props:f,data:h,setupState:g,ctx:m,inheritAttrs:b}=e,R=Rs(e);let I,T;try{if(n.shapeFlag&4){const P=r||s,ee=P;I=wt(u.call(ee,P,c,f,g,h,m)),T=l}else{const P=t;I=wt(P.length>1?P(f,{attrs:l,slots:o,emit:a}):P(f,null)),T=t.props?l:Uc(l)}}catch(P){Vn.length=0,Us(P,e,1),I=Je(zt)}let M=I;if(T&&b!==!1){const P=Object.keys(T),{shapeFlag:ee}=M;P.length&&ee&7&&(i&&P.some(Lr)&&(T=Bc(T,i)),M=xn(M,T,!1,!0))}return n.dirs&&(M=xn(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&Wr(M,n.transition),I=M,Rs(R),I}const Uc=e=>{let t;for(const n in e)(n==="class"||n==="style"||ks(n))&&((t||(t={}))[n]=e[n]);return t},Bc=(e,t)=>{const n={};for(const s in e)(!Lr(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Hc(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:l,patchFlag:a}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Ci(s,o,u):!!o;if(a&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(o[h]!==s[h]&&!Hs(u,h))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Ci(s,o,u):!0:!!o;return!1}function Ci(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!Hs(n,i))return!0}return!1}function jc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const ul={},fl=()=>Object.create(ul),hl=e=>Object.getPrototypeOf(e)===ul;function qc(e,t,n,s=!1){const r={},i=fl();e.propsDefaults=Object.create(null),dl(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:qo(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Vc(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,l=ae(r),[a]=e.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Hs(e.emitsOptions,h))continue;const g=t[h];if(a)if(ce(i,h))g!==i[h]&&(i[h]=g,u=!0);else{const m=ft(h);r[m]=wr(a,l,m,g,e,!1)}else g!==i[h]&&(i[h]=g,u=!0)}}}else{dl(e,t,r,i)&&(u=!0);let c;for(const f in l)(!t||!ce(t,f)&&((c=fn(f))===f||!ce(t,c)))&&(a?n&&(n[f]!==void 0||n[c]!==void 0)&&(r[f]=wr(a,l,f,void 0,e,!0)):delete r[f]);if(i!==l)for(const f in i)(!t||!ce(t,f))&&(delete i[f],u=!0)}u&&Mt(e.attrs,"set","")}function dl(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,l;if(t)for(let a in t){if(Gn(a))continue;const u=t[a];let c;r&&ce(r,c=ft(a))?!i||!i.includes(c)?n[c]=u:(l||(l={}))[c]=u:Hs(e.emitsOptions,a)||(!(a in s)||u!==s[a])&&(s[a]=u,o=!0)}if(i){const a=ae(n),u=l||me;for(let c=0;c<i.length;c++){const f=i[c];n[f]=wr(r,a,f,u[f],e,!ce(u,f))}}return o}function wr(e,t,n,s,r,i){const o=e[n];if(o!=null){const l=ce(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&Z(a)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const c=is(r);s=u[n]=a.call(null,t),c()}}else s=a;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===fn(n))&&(s=!0))}return s}const Wc=new WeakMap;function pl(e,t,n=!1){const s=n?Wc:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},l=[];let a=!1;if(!Z(e)){const c=f=>{a=!0;const[h,g]=pl(f,t,!0);Pe(o,h),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!a)return ve(e)&&s.set(e,yn),yn;if(X(i))for(let c=0;c<i.length;c++){const f=ft(i[c]);Si(f)&&(o[f]=me)}else if(i)for(const c in i){const f=ft(c);if(Si(f)){const h=i[c],g=o[f]=X(h)||Z(h)?{type:h}:Pe({},h),m=g.type;let b=!1,R=!0;if(X(m))for(let I=0;I<m.length;++I){const T=m[I],M=Z(T)&&T.name;if(M==="Boolean"){b=!0;break}else M==="String"&&(R=!1)}else b=Z(m)&&m.name==="Boolean";g[0]=b,g[1]=R,(b||ce(g,"default"))&&l.push(f)}}const u=[o,l];return ve(e)&&s.set(e,u),u}function Si(e){return e[0]!=="$"&&!Gn(e)}const Qr=e=>e==="_"||e==="_ctx"||e==="$stable",Jr=e=>X(e)?e.map(wt):[wt(e)],Yc=(e,t,n)=>{if(t._n)return t;const s=ac((...r)=>Jr(t(...r)),n);return s._c=!1,s},gl=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Qr(r))continue;const i=e[r];if(Z(i))t[r]=Yc(r,i,s);else if(i!=null){const o=Jr(i);t[r]=()=>o}}},ml=(e,t)=>{const n=Jr(t);e.slots.default=()=>n},_l=(e,t,n)=>{for(const s in t)(n||!Qr(s))&&(e[s]=t[s])},Qc=(e,t,n)=>{const s=e.slots=fl();if(e.vnode.shapeFlag&32){const r=t._;r?(_l(s,t,n),n&&Ro(s,"_",r,!0)):gl(t,s)}else t&&ml(e,t)},Jc=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=me;if(s.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:_l(r,t,n):(i=!t.$stable,gl(t,r)),o=t}else t&&(ml(e,t),o={default:1});if(i)for(const l in r)!Qr(l)&&o[l]==null&&delete r[l]},Ze=tu;function zc(e){return Xc(e)}function Xc(e,t){const n=Fs();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:a,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:g=Ot,insertStaticContent:m}=e,b=(d,p,_,S=null,x=null,w=null,D=void 0,k=null,N=!!p.dynamicChildren)=>{if(d===p)return;d&&!Mn(d,p)&&(S=A(d),ke(d,x,w,!0),d=null),p.patchFlag===-2&&(N=!1,p.dynamicChildren=null);const{type:O,ref:V,shapeFlag:F}=p;switch(O){case js:R(d,p,_,S);break;case zt:I(d,p,_,S);break;case sr:d==null&&T(p,_,S,D);break;case Ne:st(d,p,_,S,x,w,D,k,N);break;default:F&1?ee(d,p,_,S,x,w,D,k,N):F&6?Be(d,p,_,S,x,w,D,k,N):(F&64||F&128)&&O.process(d,p,_,S,x,w,D,k,N,B)}V!=null&&x?Hn(V,d&&d.ref,w,p||d,!p):V==null&&d&&d.ref!=null&&Hn(d.ref,null,w,d,!0)},R=(d,p,_,S)=>{if(d==null)s(p.el=l(p.children),_,S);else{const x=p.el=d.el;p.children!==d.children&&u(x,p.children)}},I=(d,p,_,S)=>{d==null?s(p.el=a(p.children||""),_,S):p.el=d.el},T=(d,p,_,S)=>{[d.el,d.anchor]=m(d.children,p,_,S,d.el,d.anchor)},M=({el:d,anchor:p},_,S)=>{let x;for(;d&&d!==p;)x=h(d),s(d,_,S),d=x;s(p,_,S)},P=({el:d,anchor:p})=>{let _;for(;d&&d!==p;)_=h(d),r(d),d=_;r(p)},ee=(d,p,_,S,x,w,D,k,N)=>{if(p.type==="svg"?D="svg":p.type==="math"&&(D="mathml"),d==null)de(p,_,S,x,w,D,k,N);else{const O=d.el&&d.el._isVueCE?d.el:null;try{O&&O._beginPatch(),Me(d,p,x,w,D,k,N)}finally{O&&O._endPatch()}}},de=(d,p,_,S,x,w,D,k)=>{let N,O;const{props:V,shapeFlag:F,transition:H,dirs:Q}=d;if(N=d.el=o(d.type,w,V&&V.is,V),F&8?c(N,d.children):F&16&&be(d.children,N,null,S,x,nr(d,w),D,k),Q&&tn(d,null,S,"created"),re(N,d,d.scopeId,D,S),V){for(const ue in V)ue!=="value"&&!Gn(ue)&&i(N,ue,null,V[ue],w,S);"value"in V&&i(N,"value",null,V.value,w),(O=V.onVnodeBeforeMount)&&St(O,S,d)}Q&&tn(d,null,S,"beforeMount");const se=Zc(x,H);se&&H.beforeEnter(N),s(N,p,_),((O=V&&V.onVnodeMounted)||se||Q)&&Ze(()=>{O&&St(O,S,d),se&&H.enter(N),Q&&tn(d,null,S,"mounted")},x)},re=(d,p,_,S,x)=>{if(_&&g(d,_),S)for(let w=0;w<S.length;w++)g(d,S[w]);if(x){let w=x.subTree;if(p===w||El(w.type)&&(w.ssContent===p||w.ssFallback===p)){const D=x.vnode;re(d,D,D.scopeId,D.slotScopeIds,x.parent)}}},be=(d,p,_,S,x,w,D,k,N=0)=>{for(let O=N;O<d.length;O++){const V=d[O]=k?jt(d[O]):wt(d[O]);b(null,V,p,_,S,x,w,D,k)}},Me=(d,p,_,S,x,w,D)=>{const k=p.el=d.el;let{patchFlag:N,dynamicChildren:O,dirs:V}=p;N|=d.patchFlag&16;const F=d.props||me,H=p.props||me;let Q;if(_&&nn(_,!1),(Q=H.onVnodeBeforeUpdate)&&St(Q,_,p,d),V&&tn(p,d,_,"beforeUpdate"),_&&nn(_,!0),(F.innerHTML&&H.innerHTML==null||F.textContent&&H.textContent==null)&&c(k,""),O?Ie(d.dynamicChildren,O,k,_,S,nr(p,x),w):D||z(d,p,k,null,_,S,nr(p,x),w,!1),N>0){if(N&16)ze(k,F,H,_,x);else if(N&2&&F.class!==H.class&&i(k,"class",null,H.class,x),N&4&&i(k,"style",F.style,H.style,x),N&8){const se=p.dynamicProps;for(let ue=0;ue<se.length;ue++){const ie=se[ue],Le=F[ie],De=H[ie];(De!==Le||ie==="value")&&i(k,ie,Le,De,x,_)}}N&1&&d.children!==p.children&&c(k,p.children)}else!D&&O==null&&ze(k,F,H,_,x);((Q=H.onVnodeUpdated)||V)&&Ze(()=>{Q&&St(Q,_,p,d),V&&tn(p,d,_,"updated")},S)},Ie=(d,p,_,S,x,w,D)=>{for(let k=0;k<p.length;k++){const N=d[k],O=p[k],V=N.el&&(N.type===Ne||!Mn(N,O)||N.shapeFlag&198)?f(N.el):_;b(N,O,V,null,S,x,w,D,!0)}},ze=(d,p,_,S,x)=>{if(p!==_){if(p!==me)for(const w in p)!Gn(w)&&!(w in _)&&i(d,w,p[w],null,x,S);for(const w in _){if(Gn(w))continue;const D=_[w],k=p[w];D!==k&&w!=="value"&&i(d,w,k,D,x,S)}"value"in _&&i(d,"value",p.value,_.value,x)}},st=(d,p,_,S,x,w,D,k,N)=>{const O=p.el=d?d.el:l(""),V=p.anchor=d?d.anchor:l("");let{patchFlag:F,dynamicChildren:H,slotScopeIds:Q}=p;Q&&(k=k?k.concat(Q):Q),d==null?(s(O,_,S),s(V,_,S),be(p.children||[],_,V,x,w,D,k,N)):F>0&&F&64&&H&&d.dynamicChildren&&d.dynamicChildren.length===H.length?(Ie(d.dynamicChildren,H,_,x,w,D,k),(p.key!=null||x&&p===x.subTree)&&vl(d,p,!0)):z(d,p,_,V,x,w,D,k,N)},Be=(d,p,_,S,x,w,D,k,N)=>{p.slotScopeIds=k,d==null?p.shapeFlag&512?x.ctx.activate(p,_,S,D,N):bt(p,_,S,x,w,D,N):rt(d,p,N)},bt=(d,p,_,S,x,w,D)=>{const k=d.component=au(d,S,x);if(sl(d)&&(k.ctx.renderer=B),uu(k,!1,D),k.asyncDep){if(x&&x.registerDep(k,te,D),!d.el){const N=k.subTree=Je(zt);I(null,N,p,_),d.placeholder=N.el}}else te(k,d,p,_,x,w,D)},rt=(d,p,_)=>{const S=p.component=d.component;if(Hc(d,p,_))if(S.asyncDep&&!S.asyncResolved){K(S,p,_);return}else S.next=p,S.update();else p.el=d.el,S.vnode=p},te=(d,p,_,S,x,w,D)=>{const k=()=>{if(d.isMounted){let{next:F,bu:H,u:Q,parent:se,vnode:ue}=d;{const lt=bl(d);if(lt){F&&(F.el=ue.el,K(d,F,D)),lt.asyncDep.then(()=>{d.isUnmounted||k()});return}}let ie=F,Le;nn(d,!1),F?(F.el=ue.el,K(d,F,D)):F=ue,H&&Js(H),(Le=F.props&&F.props.onVnodeBeforeUpdate)&&St(Le,se,F,ue),nn(d,!0);const De=Ei(d),ot=d.subTree;d.subTree=De,b(ot,De,f(ot.el),A(ot),d,x,w),F.el=De.el,ie===null&&jc(d,De.el),Q&&Ze(Q,x),(Le=F.props&&F.props.onVnodeUpdated)&&Ze(()=>St(Le,se,F,ue),x)}else{let F;const{el:H,props:Q}=p,{bm:se,m:ue,parent:ie,root:Le,type:De}=d,ot=jn(p);nn(d,!1),se&&Js(se),!ot&&(F=Q&&Q.onVnodeBeforeMount)&&St(F,ie,p),nn(d,!0);{Le.ce&&Le.ce._def.shadowRoot!==!1&&Le.ce._injectChildStyle(De);const lt=d.subTree=Ei(d);b(null,lt,_,S,d,x,w),p.el=lt.el}if(ue&&Ze(ue,x),!ot&&(F=Q&&Q.onVnodeMounted)){const lt=p;Ze(()=>St(F,ie,lt),x)}(p.shapeFlag&256||ie&&jn(ie.vnode)&&ie.vnode.shapeFlag&256)&&d.a&&Ze(d.a,x),d.isMounted=!0,p=_=S=null}};d.scope.on();const N=d.effect=new No(k);d.scope.off();const O=d.update=N.run.bind(N),V=d.job=N.runIfDirty.bind(N);V.i=d,V.id=d.uid,N.scheduler=()=>Vr(V),nn(d,!0),O()},K=(d,p,_)=>{p.component=d;const S=d.vnode.props;d.vnode=p,d.next=null,Vc(d,p.props,S,_),Jc(d,p.children,_),kt(),pi(d),Lt()},z=(d,p,_,S,x,w,D,k,N=!1)=>{const O=d&&d.children,V=d?d.shapeFlag:0,F=p.children,{patchFlag:H,shapeFlag:Q}=p;if(H>0){if(H&128){ht(O,F,_,S,x,w,D,k,N);return}else if(H&256){Ae(O,F,_,S,x,w,D,k,N);return}}Q&8?(V&16&&Ye(O,x,w),F!==O&&c(_,F)):V&16?Q&16?ht(O,F,_,S,x,w,D,k,N):Ye(O,x,w,!0):(V&8&&c(_,""),Q&16&&be(F,_,S,x,w,D,k,N))},Ae=(d,p,_,S,x,w,D,k,N)=>{d=d||yn,p=p||yn;const O=d.length,V=p.length,F=Math.min(O,V);let H;for(H=0;H<F;H++){const Q=p[H]=N?jt(p[H]):wt(p[H]);b(d[H],Q,_,null,x,w,D,k,N)}O>V?Ye(d,x,w,!0,!1,F):be(p,_,S,x,w,D,k,N,F)},ht=(d,p,_,S,x,w,D,k,N)=>{let O=0;const V=p.length;let F=d.length-1,H=V-1;for(;O<=F&&O<=H;){const Q=d[O],se=p[O]=N?jt(p[O]):wt(p[O]);if(Mn(Q,se))b(Q,se,_,null,x,w,D,k,N);else break;O++}for(;O<=F&&O<=H;){const Q=d[F],se=p[H]=N?jt(p[H]):wt(p[H]);if(Mn(Q,se))b(Q,se,_,null,x,w,D,k,N);else break;F--,H--}if(O>F){if(O<=H){const Q=H+1,se=Q<V?p[Q].el:S;for(;O<=H;)b(null,p[O]=N?jt(p[O]):wt(p[O]),_,se,x,w,D,k,N),O++}}else if(O>H)for(;O<=F;)ke(d[O],x,w,!0),O++;else{const Q=O,se=O,ue=new Map;for(O=se;O<=H;O++){const He=p[O]=N?jt(p[O]):wt(p[O]);He.key!=null&&ue.set(He.key,O)}let ie,Le=0;const De=H-se+1;let ot=!1,lt=0;const Zt=new Array(De);for(O=0;O<De;O++)Zt[O]=0;for(O=Q;O<=F;O++){const He=d[O];if(Le>=De){ke(He,x,w,!0);continue}let at;if(He.key!=null)at=ue.get(He.key);else for(ie=se;ie<=H;ie++)if(Zt[ie-se]===0&&Mn(He,p[ie])){at=ie;break}at===void 0?ke(He,x,w,!0):(Zt[at-se]=O+1,at>=lt?lt=at:ot=!0,b(He,p[at],_,null,x,w,D,k,N),Le++)}const ls=ot?eu(Zt):yn;for(ie=ls.length-1,O=De-1;O>=0;O--){const He=se+O,at=p[He],Tn=p[He+1],as=He+1<V?Tn.el||yl(Tn):S;Zt[O]===0?b(null,at,_,as,x,w,D,k,N):ot&&(ie<0||O!==ls[ie]?it(at,_,as,2):ie--)}}},it=(d,p,_,S,x=null)=>{const{el:w,type:D,transition:k,children:N,shapeFlag:O}=d;if(O&6){it(d.component.subTree,p,_,S);return}if(O&128){d.suspense.move(p,_,S);return}if(O&64){D.move(d,p,_,B);return}if(D===Ne){s(w,p,_);for(let F=0;F<N.length;F++)it(N[F],p,_,S);s(d.anchor,p,_);return}if(D===sr){M(d,p,_);return}if(S!==2&&O&1&&k)if(S===0)k.beforeEnter(w),s(w,p,_),Ze(()=>k.enter(w),x);else{const{leave:F,delayLeave:H,afterLeave:Q}=k,se=()=>{d.ctx.isUnmounted?r(w):s(w,p,_)},ue=()=>{w._isLeaving&&w[pc](!0),F(w,()=>{se(),Q&&Q()})};H?H(w,se,ue):ue()}else s(w,p,_)},ke=(d,p,_,S=!1,x=!1)=>{const{type:w,props:D,ref:k,children:N,dynamicChildren:O,shapeFlag:V,patchFlag:F,dirs:H,cacheIndex:Q}=d;if(F===-2&&(x=!1),k!=null&&(kt(),Hn(k,null,_,d,!0),Lt()),Q!=null&&(p.renderCache[Q]=void 0),V&256){p.ctx.deactivate(d);return}const se=V&1&&H,ue=!jn(d);let ie;if(ue&&(ie=D&&D.onVnodeBeforeUnmount)&&St(ie,p,d),V&6)Et(d.component,_,S);else{if(V&128){d.suspense.unmount(_,S);return}se&&tn(d,null,p,"beforeUnmount"),V&64?d.type.remove(d,p,_,B,S):O&&!O.hasOnce&&(w!==Ne||F>0&&F&64)?Ye(O,p,_,!1,!0):(w===Ne&&F&384||!x&&V&16)&&Ye(N,p,_),S&&yt(d)}(ue&&(ie=D&&D.onVnodeUnmounted)||se)&&Ze(()=>{ie&&St(ie,p,d),se&&tn(d,null,p,"unmounted")},_)},yt=d=>{const{type:p,el:_,anchor:S,transition:x}=d;if(p===Ne){Ft(_,S);return}if(p===sr){P(d);return}const w=()=>{r(_),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(d.shapeFlag&1&&x&&!x.persisted){const{leave:D,delayLeave:k}=x,N=()=>D(_,w);k?k(d.el,w,N):N()}else w()},Ft=(d,p)=>{let _;for(;d!==p;)_=h(d),r(d),d=_;r(p)},Et=(d,p,_)=>{const{bum:S,scope:x,job:w,subTree:D,um:k,m:N,a:O}=d;Ai(N),Ai(O),S&&Js(S),x.stop(),w&&(w.flags|=8,ke(D,d,p,_)),k&&Ze(k,p),Ze(()=>{d.isUnmounted=!0},p)},Ye=(d,p,_,S=!1,x=!1,w=0)=>{for(let D=w;D<d.length;D++)ke(d[D],p,_,S,x)},A=d=>{if(d.shapeFlag&6)return A(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=h(d.anchor||d.el),_=p&&p[hc];return _?h(_):p};let G=!1;const $=(d,p,_)=>{let S;d==null?p._vnode&&(ke(p._vnode,null,null,!0),S=p._vnode.component):b(p._vnode||null,d,p,null,null,null,_),p._vnode=d,G||(G=!0,pi(S),zo(),G=!1)},B={p:b,um:ke,m:it,r:yt,mt:bt,mc:be,pc:z,pbc:Ie,n:A,o:e};return{render:$,hydrate:void 0,createApp:$c($)}}function nr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function nn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Zc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vl(e,t,n=!1){const s=e.children,r=t.children;if(X(s)&&X(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=jt(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&vl(o,l)),l.type===js&&(l.patchFlag!==-1?l.el=o.el:l.__elIndex=i+(e.type===Ne?1:0)),l.type===zt&&!l.el&&(l.el=o.el)}}function eu(e){const t=e.slice(),n=[0];let s,r,i,o,l;const a=e.length;for(s=0;s<a;s++){const u=e[s];if(u!==0){if(r=n[n.length-1],e[r]<u){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<u?i=l+1:o=l;u<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function bl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:bl(t)}function Ai(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function yl(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?yl(t.subTree):null}const El=e=>e.__isSuspense;function tu(e,t){t&&t.pendingBranch?X(e)?t.effects.push(...e):t.effects.push(e):lc(e)}const Ne=Symbol.for("v-fgt"),js=Symbol.for("v-txt"),zt=Symbol.for("v-cmt"),sr=Symbol.for("v-stc"),Vn=[];let nt=null;function le(e=!1){Vn.push(nt=e?null:[])}function nu(){Vn.pop(),nt=Vn[Vn.length-1]||null}let Xn=1;function Ts(e,t=!1){Xn+=e,e<0&&nt&&t&&(nt.hasOnce=!0)}function Cl(e){return e.dynamicChildren=Xn>0?nt||yn:null,nu(),Xn>0&&nt&&nt.push(e),e}function pe(e,t,n,s,r,i){return Cl(U(e,t,n,s,r,i,!0))}function zr(e,t,n,s,r){return Cl(Je(e,t,n,s,r,!0))}function Ns(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const Sl=({key:e})=>e??null,bs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Se(e)||Ue(e)||Z(e)?{i:pt,r:e,k:t,f:!!n}:e:null);function U(e,t=null,n=null,s=0,r=null,i=e===Ne?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sl(t),ref:t&&bs(t),scopeId:Zo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:pt};return l?(Xr(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=Se(n)?8:16),Xn>0&&!o&&nt&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&nt.push(a),a}const Je=su;function su(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Oc)&&(e=zt),Ns(e)){const l=xn(e,t,!0);return n&&Xr(l,n),Xn>0&&!i&&nt&&(l.shapeFlag&6?nt[nt.indexOf(e)]=l:nt.push(l)),l.patchFlag=-2,l}if(gu(e)&&(e=e.__vccOpts),t){t=ru(t);let{class:l,style:a}=t;l&&!Se(l)&&(t.class=Rt(l)),ve(a)&&(qr(a)&&!X(a)&&(a=Pe({},a)),t.style=Fr(a))}const o=Se(e)?1:El(e)?128:dc(e)?64:ve(e)?4:Z(e)?2:0;return U(e,t,n,s,r,o,i,!0)}function ru(e){return e?qr(e)||hl(e)?Pe({},e):e:null}function xn(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:a}=e,u=t?iu(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Sl(u),ref:t&&t.ref?n&&i?X(i)?i.concat(bs(t)):[i,bs(t)]:bs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ne?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xn(e.ssContent),ssFallback:e.ssFallback&&xn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&s&&Wr(c,a.clone(c)),c}function Ps(e=" ",t=0){return Je(js,null,e,t)}function xt(e="",t=!1){return t?(le(),zr(zt,null,e)):Je(zt,null,e)}function wt(e){return e==null||typeof e=="boolean"?Je(zt):X(e)?Je(Ne,null,e.slice()):Ns(e)?jt(e):Je(js,null,String(e))}function jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xn(e)}function Xr(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(X(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Xr(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!hl(t)?t._ctx=pt:r===3&&pt&&(pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:pt},n=32):(t=String(t),s&64?(n=16,t=[Ps(t)]):n=8);e.children=t,e.shapeFlag|=n}function iu(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Rt([t.class,s.class]));else if(r==="style")t.style=Fr([t.style,s.style]);else if(ks(r)){const i=t[r],o=s[r];o&&i!==o&&!(X(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function St(e,t,n,s=null){It(e,t,7,[n,s])}const ou=al();let lu=0;function au(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||ou,i={uid:lu++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Na(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pl(s,r),emitsOptions:cl(s,r),emit:null,emitted:null,propsDefaults:me,inheritAttrs:s.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Gc.bind(null,i),e.ce&&e.ce(i),i}let Ge=null;const cu=()=>Ge||pt;let Ms,xr;{const e=Fs(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Ms=t("__VUE_INSTANCE_SETTERS__",n=>Ge=n),xr=t("__VUE_SSR_SETTERS__",n=>Zn=n)}const is=e=>{const t=Ge;return Ms(e),e.scope.on(),()=>{e.scope.off(),Ms(t)}},wi=()=>{Ge&&Ge.scope.off(),Ms(null)};function Al(e){return e.vnode.shapeFlag&4}let Zn=!1;function uu(e,t=!1,n=!1){t&&xr(t);const{props:s,children:r}=e.vnode,i=Al(e);qc(e,s,i,t),Qc(e,r,n||t);const o=i?fu(e,t):void 0;return t&&xr(!1),o}function fu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Tc);const{setup:s}=n;if(s){kt();const r=e.setupContext=s.length>1?du(e):null,i=is(e),o=rs(s,e,0,[e.props,r]),l=Ao(o);if(Lt(),i(),(l||e.sp)&&!jn(e)&&nl(e),l){if(o.then(wi,wi),t)return o.then(a=>{xi(e,a)}).catch(a=>{Us(a,e,0)});e.asyncDep=o}else xi(e,o)}else wl(e)}function xi(e,t,n){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ve(t)&&(e.setupState=Wo(t)),wl(e)}function wl(e,t,n){const s=e.type;e.render||(e.render=s.render||Ot);{const r=is(e);kt();try{Nc(e)}finally{Lt(),r()}}}const hu={get(e,t){return Fe(e,"get",""),e[t]}};function du(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,hu),slots:e.slots,emit:e.emit,expose:t}}function Zr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Wo(za(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qn)return qn[n](e)},has(t,n){return n in t||n in qn}})):e.proxy}function pu(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function gu(e){return Z(e)&&"__vccOpts"in e}const tt=(e,t)=>nc(e,t,Zn);function xl(e,t,n){try{Ts(-1);const s=arguments.length;return s===2?ve(t)&&!X(t)?Ns(t)?Je(e,null,[t]):Je(e,t):Je(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ns(n)&&(n=[n]),Je(e,t,n))}finally{Ts(1)}}const mu="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;const Ri=typeof window<"u"&&window.trustedTypes;if(Ri)try{Rr=Ri.createPolicy("vue",{createHTML:e=>e})}catch{}const Rl=Rr?e=>Rr.createHTML(e):e=>e,_u="http://www.w3.org/2000/svg",vu="http://www.w3.org/1998/Math/MathML",Pt=typeof document<"u"?document:null,Oi=Pt&&Pt.createElement("template"),bu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Pt.createElementNS(_u,e):t==="mathml"?Pt.createElementNS(vu,e):n?Pt.createElement(e,{is:n}):Pt.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Oi.innerHTML=Rl(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Oi.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},yu=Symbol("_vtc");function Eu(e,t,n){const s=e[yu];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ii=Symbol("_vod"),Cu=Symbol("_vsh"),Su=Symbol(""),Au=/(?:^|;)\s*display\s*:/;function wu(e,t,n){const s=e.style,r=Se(n);let i=!1;if(n&&!r){if(t)if(Se(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ys(s,l,"")}else for(const o in t)n[o]==null&&ys(s,o,"");for(const o in n)o==="display"&&(i=!0),ys(s,o,n[o])}else if(r){if(t!==n){const o=s[Su];o&&(n+=";"+o),s.cssText=n,i=Au.test(n)}}else t&&e.removeAttribute("style");Ii in e&&(e[Ii]=i?s.display:"",e[Cu]&&(s.display="none"))}const Ti=/\s*!important$/;function ys(e,t,n){if(X(n))n.forEach(s=>ys(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=xu(e,t);Ti.test(n)?e.setProperty(fn(s),n.replace(Ti,""),"important"):e[s]=n}}const Ni=["Webkit","Moz","ms"],rr={};function xu(e,t){const n=rr[t];if(n)return n;let s=ft(t);if(s!=="filter"&&s in e)return rr[t]=s;s=$s(s);for(let r=0;r<Ni.length;r++){const i=Ni[r]+s;if(i in e)return rr[t]=i}return t}const Pi="http://www.w3.org/1999/xlink";function Mi(e,t,n,s,r,i=Ta(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Pi,t.slice(6,t.length)):e.setAttributeNS(Pi,t,n):n==null||i&&!Oo(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Xt(n)?String(n):n)}function ki(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Rl(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Oo(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function Ru(e,t,n,s){e.addEventListener(t,n,s)}function Ou(e,t,n,s){e.removeEventListener(t,n,s)}const Li=Symbol("_vei");function Iu(e,t,n,s,r=null){const i=e[Li]||(e[Li]={}),o=i[t];if(s&&o)o.value=s;else{const[l,a]=Tu(t);if(s){const u=i[t]=Mu(s,r);Ru(e,l,u,a)}else o&&(Ou(e,l,o,a),i[t]=void 0)}}const Di=/(?:Once|Passive|Capture)$/;function Tu(e){let t;if(Di.test(e)){t={};let s;for(;s=e.match(Di);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):fn(e.slice(2)),t]}let ir=0;const Nu=Promise.resolve(),Pu=()=>ir||(Nu.then(()=>ir=0),ir=Date.now());function Mu(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;It(ku(s,n.value),t,5,[s])};return n.value=e,n.attached=Pu(),n}function ku(e,t){if(X(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const $i=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Lu=(e,t,n,s,r,i)=>{const o=r==="svg";t==="class"?Eu(e,s,o):t==="style"?wu(e,n,s):ks(t)?Lr(t)||Iu(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Du(e,t,s,o))?(ki(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Mi(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Se(s))?ki(e,ft(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Mi(e,t,s,o))};function Du(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&$i(t)&&Z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return $i(t)&&Se(n)?!1:t in e}const $u=Pe({patchProp:Lu},bu);let Fi;function Fu(){return Fi||(Fi=zc($u))}const Gu=(...e)=>{const t=Fu().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Uu(s);if(!r)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Ku(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Ku(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Uu(e){return Se(e)?document.querySelector(e):e}const Bu=hn({__name:"App",setup(e){return(t,n)=>{const s=Rc("router-view");return le(),zr(s)}}});/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const _n=typeof document<"u";function Ol(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Hu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ol(e.default)}const oe=Object.assign;function or(e,t){const n={};for(const s in t){const r=t[s];n[s]=vt(r)?r.map(e):e(r)}return n}const Wn=()=>{},vt=Array.isArray;function Gi(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const Il=/#/g,ju=/&/g,qu=/\//g,Vu=/=/g,Wu=/\?/g,Tl=/\+/g,Yu=/%5B/g,Qu=/%5D/g,Nl=/%5E/g,Ju=/%60/g,Pl=/%7B/g,zu=/%7C/g,Ml=/%7D/g,Xu=/%20/g;function ei(e){return e==null?"":encodeURI(""+e).replace(zu,"|").replace(Yu,"[").replace(Qu,"]")}function Zu(e){return ei(e).replace(Pl,"{").replace(Ml,"}").replace(Nl,"^")}function Or(e){return ei(e).replace(Tl,"%2B").replace(Xu,"+").replace(Il,"%23").replace(ju,"%26").replace(Ju,"`").replace(Pl,"{").replace(Ml,"}").replace(Nl,"^")}function ef(e){return Or(e).replace(Vu,"%3D")}function tf(e){return ei(e).replace(Il,"%23").replace(Wu,"%3F")}function nf(e){return tf(e).replace(qu,"%2F")}function es(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const sf=/\/$/,rf=e=>e.replace(sf,"");function lr(e,t,n="/"){let s,r={},i="",o="";const l=t.indexOf("#");let a=t.indexOf("?");return a=l>=0&&a>l?-1:a,a>=0&&(s=t.slice(0,a),i=t.slice(a,l>0?l:t.length),r=e(i.slice(1))),l>=0&&(s=s||t.slice(0,l),o=t.slice(l,t.length)),s=cf(s??t,n),{fullPath:s+i+o,path:s,query:r,hash:es(o)}}function of(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ki(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function lf(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Rn(t.matched[s],n.matched[r])&&kl(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Rn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function kl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!af(e[n],t[n]))return!1;return!0}function af(e,t){return vt(e)?Ui(e,t):vt(t)?Ui(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function Ui(e,t){return vt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function cf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Gt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ir=function(e){return e.pop="pop",e.push="push",e}({}),ar=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function uf(e){if(!e)if(_n){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),rf(e)}const ff=/^[^#]+#/;function hf(e,t){return e.replace(ff,"#")+t}function df(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const qs=()=>({left:window.scrollX,top:window.scrollY});function pf(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=df(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Bi(e,t){return(history.state?history.state.position-t:-1)+e}const Tr=new Map;function gf(e,t){Tr.set(e,t)}function mf(e){const t=Tr.get(e);return Tr.delete(e),t}function _f(e){return typeof e=="string"||e&&typeof e=="object"}function Ll(e){return typeof e=="string"||typeof e=="symbol"}let Ee=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Dl=Symbol("");Ee.MATCHER_NOT_FOUND+"",Ee.NAVIGATION_GUARD_REDIRECT+"",Ee.NAVIGATION_ABORTED+"",Ee.NAVIGATION_CANCELLED+"",Ee.NAVIGATION_DUPLICATED+"";function On(e,t){return oe(new Error,{type:e,[Dl]:!0},t)}function Nt(e,t){return e instanceof Error&&Dl in e&&(t==null||!!(e.type&t))}const vf=["params","query","hash"];function bf(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of vf)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function yf(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const r=n[s].replace(Tl," "),i=r.indexOf("="),o=es(i<0?r:r.slice(0,i)),l=i<0?null:es(r.slice(i+1));if(o in t){let a=t[o];vt(a)||(a=t[o]=[a]),a.push(l)}else t[o]=l}return t}function Hi(e){let t="";for(let n in e){const s=e[n];if(n=ef(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(vt(s)?s.map(r=>r&&Or(r)):[s&&Or(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function Ef(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=vt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const Cf=Symbol(""),ji=Symbol(""),Vs=Symbol(""),ti=Symbol(""),Nr=Symbol("");function kn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function qt(e,t,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,a)=>{const u=h=>{h===!1?a(On(Ee.NAVIGATION_ABORTED,{from:n,to:t})):h instanceof Error?a(h):_f(h)?a(On(Ee.NAVIGATION_GUARD_REDIRECT,{from:t,to:h})):(o&&s.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),l())},c=i(()=>e.call(s&&s.instances[r],t,n,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(h=>a(h))})}function cr(e,t,n,s,r=i=>i()){const i=[];for(const o of e)for(const l in o.components){let a=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(Ol(a)){const u=(a.__vccOpts||a)[t];u&&i.push(qt(u,n,s,o,l,r))}else{let u=a();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const f=Hu(c)?c.default:c;o.mods[l]=c,o.components[l]=f;const h=(f.__vccOpts||f)[t];return h&&qt(h,n,s,o,l,r)()}))}}return i}function Sf(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(u=>Rn(u,l))?s.push(l):n.push(l));const a=e.matched[o];a&&(t.matched.find(u=>Rn(u,a))||r.push(a))}return[n,s,r]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Af=()=>location.protocol+"//"+location.host;function $l(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let o=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(o);return l[0]!=="/"&&(l="/"+l),Ki(l,"")}return Ki(n,e)+s+r}function wf(e,t,n,s){let r=[],i=[],o=null;const l=({state:h})=>{const g=$l(e,location),m=n.value,b=t.value;let R=0;if(h){if(n.value=g,t.value=h,o&&o===m){o=null;return}R=b?h.position-b.position:0}else s(g);r.forEach(I=>{I(n.value,m,{delta:R,type:Ir.pop,direction:R?R>0?ar.forward:ar.back:ar.unknown})})};function a(){o=n.value}function u(h){r.push(h);const g=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return i.push(g),g}function c(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(oe({},h.state,{scroll:qs()}),"")}}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:a,listen:u,destroy:f}}function qi(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?qs():null}}function xf(e){const{history:t,location:n}=window,s={value:$l(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(a,u,c){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+a:Af()+e+a;try{t[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(g){console.error(g),n[c?"replace":"assign"](h)}}function o(a,u){i(a,oe({},t.state,qi(r.value.back,a,r.value.forward,!0),u,{position:r.value.position}),!0),s.value=a}function l(a,u){const c=oe({},r.value,t.state,{forward:a,scroll:qs()});i(c.current,c,!0),i(a,oe({},qi(s.value,a,null),{position:c.position+1},u),!1),s.value=a}return{location:s,state:r,push:l,replace:o}}function Rf(e){e=uf(e);const t=xf(e),n=wf(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=oe({location:"",base:e,go:s,createHref:hf.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}let on=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var we=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(we||{});const Of={type:on.Static,value:""},If=/[a-zA-Z0-9_]/;function Tf(e){if(!e)return[[]];if(e==="/")return[[Of]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=we.Static,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let l=0,a,u="",c="";function f(){u&&(n===we.Static?i.push({type:on.Static,value:u}):n===we.Param||n===we.ParamRegExp||n===we.ParamRegExpEnd?(i.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:on.Param,value:u,regexp:c,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==we.ParamRegExp){s=n,n=we.EscapeNext;continue}switch(n){case we.Static:a==="/"?(u&&f(),o()):a===":"?(f(),n=we.Param):h();break;case we.EscapeNext:h(),n=s;break;case we.Param:a==="("?n=we.ParamRegExp:If.test(a)?h():(f(),n=we.Static,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case we.ParamRegExp:a===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+a:n=we.ParamRegExpEnd:c+=a;break;case we.ParamRegExpEnd:f(),n=we.Static,a!=="*"&&a!=="?"&&a!=="+"&&l--,c="";break;default:t("Unknown state");break}}return n===we.ParamRegExp&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}const Vi="[^/]+?",Nf={sensitive:!1,strict:!1,start:!0,end:!0};var Ve=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Ve||{});const Pf=/[.+*?^${}()[\]/\\]/g;function Mf(e,t){const n=oe({},Nf,t),s=[];let r=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[Ve.Root];n.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const h=u[f];let g=Ve.Segment+(n.sensitive?Ve.BonusCaseSensitive:0);if(h.type===on.Static)f||(r+="/"),r+=h.value.replace(Pf,"\\$&"),g+=Ve.Static;else if(h.type===on.Param){const{value:m,repeatable:b,optional:R,regexp:I}=h;i.push({name:m,repeatable:b,optional:R});const T=I||Vi;if(T!==Vi){g+=Ve.BonusCustomRegExp;try{`${T}`}catch(P){throw new Error(`Invalid custom RegExp for param "${m}" (${T}): `+P.message)}}let M=b?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;f||(M=R&&u.length<2?`(?:/${M})`:"/"+M),R&&(M+="?"),r+=M,g+=Ve.Dynamic,R&&(g+=Ve.BonusOptional),b&&(g+=Ve.BonusRepeatable),T===".*"&&(g+=Ve.BonusWildcard)}c.push(g)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=Ve.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(u){const c=u.match(o),f={};if(!c)return null;for(let h=1;h<c.length;h++){const g=c[h]||"",m=i[h-1];f[m.name]=g&&m.repeatable?g.split("/"):g}return f}function a(u){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const g of h)if(g.type===on.Static)c+=g.value;else if(g.type===on.Param){const{value:m,repeatable:b,optional:R}=g,I=m in u?u[m]:"";if(vt(I)&&!b)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const T=vt(I)?I.join("/"):I;if(!T)if(R)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);c+=T}}return c||"/"}return{re:o,score:s,keys:i,parse:l,stringify:a}}function kf(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===Ve.Static+Ve.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Ve.Static+Ve.Segment?1:-1:0}function Fl(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=kf(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Wi(s))return 1;if(Wi(r))return-1}return r.length-s.length}function Wi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Lf={strict:!1,end:!0,sensitive:!1};function Df(e,t,n){const s=Mf(Tf(e.path),n),r=oe(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function $f(e,t){const n=[],s=new Map;t=Gi(Lf,t);function r(f){return s.get(f)}function i(f,h,g){const m=!g,b=Qi(f);b.aliasOf=g&&g.record;const R=Gi(t,f),I=[b];if("alias"in f){const P=typeof f.alias=="string"?[f.alias]:f.alias;for(const ee of P)I.push(Qi(oe({},b,{components:g?g.record.components:b.components,path:ee,aliasOf:g?g.record:b})))}let T,M;for(const P of I){const{path:ee}=P;if(h&&ee[0]!=="/"){const de=h.record.path,re=de[de.length-1]==="/"?"":"/";P.path=h.record.path+(ee&&re+ee)}if(T=Df(P,h,R),g?g.alias.push(T):(M=M||T,M!==T&&M.alias.push(T),m&&f.name&&!Ji(T)&&o(f.name)),Gl(T)&&a(T),b.children){const de=b.children;for(let re=0;re<de.length;re++)i(de[re],T,g&&g.children[re])}g=g||T}return M?()=>{o(M)}:Wn}function o(f){if(Ll(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function l(){return n}function a(f){const h=Kf(f,n);n.splice(h,0,f),f.record.name&&!Ji(f)&&s.set(f.record.name,f)}function u(f,h){let g,m={},b,R;if("name"in f&&f.name){if(g=s.get(f.name),!g)throw On(Ee.MATCHER_NOT_FOUND,{location:f});R=g.record.name,m=oe(Yi(h.params,g.keys.filter(M=>!M.optional).concat(g.parent?g.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),f.params&&Yi(f.params,g.keys.map(M=>M.name))),b=g.stringify(m)}else if(f.path!=null)b=f.path,g=n.find(M=>M.re.test(b)),g&&(m=g.parse(b),R=g.record.name);else{if(g=h.name?s.get(h.name):n.find(M=>M.re.test(h.path)),!g)throw On(Ee.MATCHER_NOT_FOUND,{location:f,currentLocation:h});R=g.record.name,m=oe({},h.params,f.params),b=g.stringify(m)}const I=[];let T=g;for(;T;)I.unshift(T.record),T=T.parent;return{name:R,path:b,params:m,matched:I,meta:Gf(I)}}e.forEach(f=>i(f));function c(){n.length=0,s.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:l,getRecordMatcher:r}}function Yi(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Qi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ff(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ff(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Ji(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Gf(e){return e.reduce((t,n)=>oe(t,n.meta),{})}function Kf(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;Fl(e,t[i])<0?s=i:n=i+1}const r=Uf(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function Uf(e){let t=e;for(;t=t.parent;)if(Gl(t)&&Fl(e,t)===0)return t}function Gl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function zi(e){const t=mt(Vs),n=mt(ti),s=tt(()=>{const a=he(e.to);return t.resolve(a)}),r=tt(()=>{const{matched:a}=s.value,{length:u}=a,c=a[u-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(Rn.bind(null,c));if(h>-1)return h;const g=Xi(a[u-2]);return u>1&&Xi(c)===g&&f[f.length-1].path!==g?f.findIndex(Rn.bind(null,a[u-2])):h}),i=tt(()=>r.value>-1&&Vf(n.params,s.value.params)),o=tt(()=>r.value>-1&&r.value===n.matched.length-1&&kl(n.params,s.value.params));function l(a={}){if(qf(a)){const u=t[he(e.replace)?"replace":"push"](he(e.to)).catch(Wn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:s,href:tt(()=>s.value.href),isActive:i,isExactActive:o,navigate:l}}function Bf(e){return e.length===1?e[0]:e}const Hf=hn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:zi,setup(e,{slots:t}){const n=Ks(zi(e)),{options:s}=mt(Vs),r=tt(()=>({[Zi(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Zi(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&Bf(t.default(n));return e.custom?i:xl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),jf=Hf;function qf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Vf(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!vt(r)||r.length!==s.length||s.some((i,o)=>i.valueOf()!==r[o].valueOf()))return!1}return!0}function Xi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Zi=(e,t,n)=>e??t??n,Wf=hn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=mt(Nr),r=tt(()=>e.route||s.value),i=mt(ji,0),o=tt(()=>{let u=he(i);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),l=tt(()=>r.value.matched[o.value]);vs(ji,tt(()=>o.value+1)),vs(Cf,l),vs(Nr,r);const a=_e();return Bn(()=>[a.value,l.value,e.name],([u,c,f],[h,g,m])=>{c&&(c.instances[f]=u,g&&g!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!Rn(c,g)||!h)&&(c.enterCallbacks[f]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,f=l.value,h=f&&f.components[c];if(!h)return eo(n.default,{Component:h,route:u});const g=f.props[c],m=g?g===!0?u.params:typeof g=="function"?g(u):g:null,R=xl(h,oe({},m,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(f.instances[c]=null)},ref:a}));return eo(n.default,{Component:R,route:u})||R}}});function eo(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Yf=Wf;function Qf(e){const t=$f(e.routes,e),n=e.parseQuery||yf,s=e.stringifyQuery||Hi,r=e.history,i=kn(),o=kn(),l=kn(),a=Xa(Gt);let u=Gt;_n&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=or.bind(null,A=>""+A),f=or.bind(null,nf),h=or.bind(null,es);function g(A,G){let $,B;return Ll(A)?($=t.getRecordMatcher(A),B=G):B=A,t.addRoute(B,$)}function m(A){const G=t.getRecordMatcher(A);G&&t.removeRoute(G)}function b(){return t.getRoutes().map(A=>A.record)}function R(A){return!!t.getRecordMatcher(A)}function I(A,G){if(G=oe({},G||a.value),typeof A=="string"){const _=lr(n,A,G.path),S=t.resolve({path:_.path},G),x=r.createHref(_.fullPath);return oe(_,S,{params:h(S.params),hash:es(_.hash),redirectedFrom:void 0,href:x})}let $;if(A.path!=null)$=oe({},A,{path:lr(n,A.path,G.path).path});else{const _=oe({},A.params);for(const S in _)_[S]==null&&delete _[S];$=oe({},A,{params:f(_)}),G.params=f(G.params)}const B=t.resolve($,G),ne=A.hash||"";B.params=c(h(B.params));const d=of(s,oe({},A,{hash:Zu(ne),path:B.path})),p=r.createHref(d);return oe({fullPath:d,hash:ne,query:s===Hi?Ef(A.query):A.query||{}},B,{redirectedFrom:void 0,href:p})}function T(A){return typeof A=="string"?lr(n,A,a.value.path):oe({},A)}function M(A,G){if(u!==A)return On(Ee.NAVIGATION_CANCELLED,{from:G,to:A})}function P(A){return re(A)}function ee(A){return P(oe(T(A),{replace:!0}))}function de(A,G){const $=A.matched[A.matched.length-1];if($&&$.redirect){const{redirect:B}=$;let ne=typeof B=="function"?B(A,G):B;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=T(ne):{path:ne},ne.params={}),oe({query:A.query,hash:A.hash,params:ne.path!=null?{}:A.params},ne)}}function re(A,G){const $=u=I(A),B=a.value,ne=A.state,d=A.force,p=A.replace===!0,_=de($,B);if(_)return re(oe(T(_),{state:typeof _=="object"?oe({},ne,_.state):ne,force:d,replace:p}),G||$);const S=$;S.redirectedFrom=G;let x;return!d&&lf(s,B,$)&&(x=On(Ee.NAVIGATION_DUPLICATED,{to:S,from:B}),it(B,B,!0,!1)),(x?Promise.resolve(x):Ie(S,B)).catch(w=>Nt(w)?Nt(w,Ee.NAVIGATION_GUARD_REDIRECT)?w:ht(w):z(w,S,B)).then(w=>{if(w){if(Nt(w,Ee.NAVIGATION_GUARD_REDIRECT))return re(oe({replace:p},T(w.to),{state:typeof w.to=="object"?oe({},ne,w.to.state):ne,force:d}),G||S)}else w=st(S,B,!0,p,ne);return ze(S,B,w),w})}function be(A,G){const $=M(A,G);return $?Promise.reject($):Promise.resolve()}function Me(A){const G=Ft.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(A):A()}function Ie(A,G){let $;const[B,ne,d]=Sf(A,G);$=cr(B.reverse(),"beforeRouteLeave",A,G);for(const _ of B)_.leaveGuards.forEach(S=>{$.push(qt(S,A,G))});const p=be.bind(null,A,G);return $.push(p),Ye($).then(()=>{$=[];for(const _ of i.list())$.push(qt(_,A,G));return $.push(p),Ye($)}).then(()=>{$=cr(ne,"beforeRouteUpdate",A,G);for(const _ of ne)_.updateGuards.forEach(S=>{$.push(qt(S,A,G))});return $.push(p),Ye($)}).then(()=>{$=[];for(const _ of d)if(_.beforeEnter)if(vt(_.beforeEnter))for(const S of _.beforeEnter)$.push(qt(S,A,G));else $.push(qt(_.beforeEnter,A,G));return $.push(p),Ye($)}).then(()=>(A.matched.forEach(_=>_.enterCallbacks={}),$=cr(d,"beforeRouteEnter",A,G,Me),$.push(p),Ye($))).then(()=>{$=[];for(const _ of o.list())$.push(qt(_,A,G));return $.push(p),Ye($)}).catch(_=>Nt(_,Ee.NAVIGATION_CANCELLED)?_:Promise.reject(_))}function ze(A,G,$){l.list().forEach(B=>Me(()=>B(A,G,$)))}function st(A,G,$,B,ne){const d=M(A,G);if(d)return d;const p=G===Gt,_=_n?history.state:{};$&&(B||p?r.replace(A.fullPath,oe({scroll:p&&_&&_.scroll},ne)):r.push(A.fullPath,ne)),a.value=A,it(A,G,$,p),ht()}let Be;function bt(){Be||(Be=r.listen((A,G,$)=>{if(!Et.listening)return;const B=I(A),ne=de(B,Et.currentRoute.value);if(ne){re(oe(ne,{replace:!0,force:!0}),B).catch(Wn);return}u=B;const d=a.value;_n&&gf(Bi(d.fullPath,$.delta),qs()),Ie(B,d).catch(p=>Nt(p,Ee.NAVIGATION_ABORTED|Ee.NAVIGATION_CANCELLED)?p:Nt(p,Ee.NAVIGATION_GUARD_REDIRECT)?(re(oe(T(p.to),{force:!0}),B).then(_=>{Nt(_,Ee.NAVIGATION_ABORTED|Ee.NAVIGATION_DUPLICATED)&&!$.delta&&$.type===Ir.pop&&r.go(-1,!1)}).catch(Wn),Promise.reject()):($.delta&&r.go(-$.delta,!1),z(p,B,d))).then(p=>{p=p||st(B,d,!1),p&&($.delta&&!Nt(p,Ee.NAVIGATION_CANCELLED)?r.go(-$.delta,!1):$.type===Ir.pop&&Nt(p,Ee.NAVIGATION_ABORTED|Ee.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),ze(B,d,p)}).catch(Wn)}))}let rt=kn(),te=kn(),K;function z(A,G,$){ht(A);const B=te.list();return B.length?B.forEach(ne=>ne(A,G,$)):console.error(A),Promise.reject(A)}function Ae(){return K&&a.value!==Gt?Promise.resolve():new Promise((A,G)=>{rt.add([A,G])})}function ht(A){return K||(K=!A,bt(),rt.list().forEach(([G,$])=>A?$(A):G()),rt.reset()),A}function it(A,G,$,B){const{scrollBehavior:ne}=e;if(!_n||!ne)return Promise.resolve();const d=!$&&mf(Bi(A.fullPath,0))||(B||!$)&&history.state&&history.state.scroll||null;return Qo().then(()=>ne(A,G,d)).then(p=>p&&pf(p)).catch(p=>z(p,A,G))}const ke=A=>r.go(A);let yt;const Ft=new Set,Et={currentRoute:a,listening:!0,addRoute:g,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:R,getRoutes:b,resolve:I,options:e,push:P,replace:ee,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:te.add,isReady:Ae,install(A){A.component("RouterLink",jf),A.component("RouterView",Yf),A.config.globalProperties.$router=Et,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>he(a)}),_n&&!yt&&a.value===Gt&&(yt=!0,P(r.location).catch(B=>{}));const G={};for(const B in Gt)Object.defineProperty(G,B,{get:()=>a.value[B],enumerable:!0});A.provide(Vs,Et),A.provide(ti,qo(G)),A.provide(Nr,a);const $=A.unmount;Ft.add(A),A.unmount=function(){Ft.delete(A),Ft.size<1&&(u=Gt,Be&&Be(),Be=null,a.value=Gt,yt=!1,K=!1),$()}}};function Ye(A){return A.reduce((G,$)=>G.then(()=>Me($)),Promise.resolve())}return Et}function Kl(){return mt(Vs)}function Jf(e){return mt(ti)}const zf={class:"min-h-screen bg-gray-900 flex flex-col items-center justify-center p-4"},Xf={class:"max-w-md w-full text-center space-y-8"},Zf={class:"space-y-4 flex flex-col items-center"},eh=hn({__name:"HomeView",setup(e){const t=Kl(),n=_e(!1);Yr(()=>{localStorage.getItem("chess_game_state")&&(n.value=!0)});const s=()=>{const i=crypto.randomUUID();t.push(`/game/${i}`)},r=()=>{const i=localStorage.getItem("chess_game_state");if(i)try{const o=JSON.parse(i);o.id?t.push(`/game/${o.id}`):t.push("/game/resume")}catch(o){console.error("Failed to parse saved game",o),s()}};return(i,o)=>(le(),pe("div",zf,[U("div",Xf,[o[2]||(o[2]=U("div",{class:"space-y-2"},[U("h1",{class:"text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-cyan-500 pb-2"}," Elemental Chess "),U("p",{class:"text-gray-400 text-lg"},"Powered by Gemini AI")],-1)),U("div",Zf,[U("button",{onClick:s,class:"w-full py-4 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-400 hover:to-teal-500 text-white font-bold text-xl shadow-lg hover:shadow-cyan-500/20 transition-all transform hover:-translate-y-1 relative group overflow-hidden"},[...o[0]||(o[0]=[U("div",{class:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1),U("span",{class:"relative flex items-center justify-center gap-3"},[U("span",{class:"material-symbols-outlined"},"swords"),Ps(" Start New Game ")],-1)])]),n.value?(le(),pe("button",{key:0,onClick:r,class:"w-full py-4 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-200 font-bold text-xl border border-gray-700 shadow-lg transition-all transform hover:-translate-y-1 flex items-center justify-center gap-3 group"},[...o[1]||(o[1]=[U("span",{class:"material-symbols-outlined text-emerald-400 group-hover:scale-110 transition-transform"},"resume",-1),Ps(" Continue Session ",-1)])])):xt("",!0)]),o[3]||(o[3]=U("p",{class:"text-gray-600 text-sm"}," v1.0.0  Local Storage Enabled ",-1))])]))}}),th={class:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-sm"},nh={class:"bg-gray-800 p-6 rounded-xl border border-gray-700 shadow-2xl text-center transform scale-110"},sh={class:"flex gap-4"},rh=["onClick"],ih=["src","alt"],oh=hn({__name:"PromotionModal",props:{color:{}},emits:["select"],setup(e,{emit:t}){const n=t,s=[{type:"q",name:"Queen"},{type:"r",name:"Rook"},{type:"b",name:"Bishop"},{type:"n",name:"Knight"}],r=(i,o)=>`/${o}${i.toUpperCase()}.svg`;return(i,o)=>(le(),pe("div",th,[U("div",nh,[o[0]||(o[0]=U("h3",{class:"text-xl font-bold text-white mb-4"},"Choose Promotion",-1)),U("div",sh,[(le(),pe(Ne,null,Sn(s,l=>U("button",{key:l.type,onClick:a=>n("select",l.type),class:"w-16 h-16 p-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all border border-gray-600 hover:border-emerald-500"},[U("img",{src:r(l.type,e.color),alt:l.name,class:"w-full h-full drop-shadow-md"},null,8,ih)],8,rh)),64))])])]))}}),lh={class:"relative w-full max-w-[600px] aspect-square"},ah={class:"grid grid-cols-8 grid-rows-8 w-full h-full border-4 border-[#333] shadow-2xl rounded-sm overflow-hidden select-none"},ch=["onClick"],uh={key:2,class:"absolute w-1/3 h-1/3 rounded-full bg-black/20 z-10 pointer-events-none"},fh={key:3,class:"w-full h-full z-20 p-1 md:p-1.5 transition-transform duration-200 hover:scale-110"},hh=["src"],dh=hn({__name:"ChessBoard",props:{board:{},turn:{},lastMove:{},legalMoves:{},getLegalMoves:{type:Function}},emits:["move"],setup(e,{emit:t}){const n=e,s=t,r=_e(null),i=_e([]),o=_e(!1),l=_e(null),a=(g,m)=>`/${m}${g.toUpperCase()}.svg`,u=g=>{if(!o.value){if(!r.value){const m=n.board.flat().find(b=>(b==null?void 0:b.square)===g);if(m&&m.color===n.turn){r.value=g;const b=n.getLegalMoves(g);i.value=b.map(R=>R.to)}return}if(r.value===g){r.value=null,i.value=[];return}if(i.value.includes(g)){const m=r.value,b=g,R=n.board.flat().find(M=>(M==null?void 0:M.square)===m),I=(R==null?void 0:R.type)==="p",T=(R==null?void 0:R.color)==="w"&&b[1]==="8"||(R==null?void 0:R.color)==="b"&&b[1]==="1";if(I&&T){l.value={from:m,to:b},o.value=!0;return}s("move",{from:m,to:b}),r.value=null,i.value=[]}else{const m=n.board.flat().find(b=>(b==null?void 0:b.square)===g);if(m&&m.color===n.turn){r.value=g;const b=n.getLegalMoves(g);i.value=b.map(R=>R.to)}else r.value=null,i.value=[]}}},c=g=>{l.value&&(s("move",{from:l.value.from,to:l.value.to,promotion:g}),l.value=null,o.value=!1,r.value=null,i.value=[])},f=["a","b","c","d","e","f","g","h"],h=["8","7","6","5","4","3","2","1"];return(g,m)=>(le(),pe("div",lh,[U("div",ah,[(le(),pe(Ne,null,Sn(h,(b,R)=>(le(),pe(Ne,{key:b},[(le(),pe(Ne,null,Sn(f,(I,T)=>{var M,P;return U("div",{key:I+b,class:Rt(["relative flex items-center justify-center w-full h-full text-4xl",[(R+T)%2===0?"bg-board-light":"bg-board-dark",r.value===I+b?"!bg-yellow-400/80":"",i.value.includes(I+b)?"cursor-pointer":"",((M=e.lastMove)==null?void 0:M.from)===I+b||((P=e.lastMove)==null?void 0:P.to)===I+b?"bg-yellow-200/50":""]]),onClick:ee=>u(I+b)},[T===0?(le(),pe("span",{key:0,class:Rt(["absolute top-0.5 left-1 text-[10px] sm:text-xs font-bold",(R+T)%2===0?"text-board-dark":"text-board-light"])},et(b),3)):xt("",!0),R===7?(le(),pe("span",{key:1,class:Rt(["absolute bottom-0.5 right-1 text-[10px] sm:text-xs font-bold",(R+T)%2===0?"text-board-dark":"text-board-light"])},et(I),3)):xt("",!0),i.value.includes(I+b)?(le(),pe("div",uh)):xt("",!0),e.board[R][T]?(le(),pe("div",fh,[U("img",{src:a(e.board[R][T].type,e.board[R][T].color),class:"w-full h-full drop-shadow-md select-none",draggable:"false"},null,8,hh)])):xt("",!0)],10,ch)}),64))],64))),64))]),o.value?(le(),zr(oh,{key:0,color:e.turn,onSelect:c},null,8,["color"])):xt("",!0)]))}}),Ul=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},ph=Ul(dh,[["__scopeId","data-v-12d55322"]]);function gh(e){return e!==null?{comment:e,variations:[]}:{variations:[]}}function mh(e,t,n,s,r){const i={move:e,variations:r};return t&&(i.suffix=t),n&&(i.nag=n),s!==null&&(i.comment=s),i}function _h(...e){const[t,...n]=e;let s=t;for(const r of n)r!==null&&(s.variations=[r,...r.variations],r.variations=[],s=r);return t}function vh(e,t){if(t.marker&&t.marker.comment){let n=t.root;for(;;){const s=n.variations[0];if(!s){n.comment=t.marker.comment;break}n=s}}return{headers:e,root:t.root,result:(t.marker&&t.marker.result)??void 0}}function bh(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function In(e,t,n,s){var r=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(r,In.prototype),r.expected=t,r.found=n,r.location=s,r.name="SyntaxError",r}bh(In,Error);function ur(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}In.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,s;for(s=0;s<e.length;s++)if(e[s].source===this.location.source){n=e[s].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,i=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(r):r,o=this.location.source+":"+i.line+":"+i.column;if(n){var l=this.location.end,a=ur("",i.line.toString().length," "),u=n[r.line-1],c=r.line===l.line?l.column:u.length+1,f=c-r.column||1;t+=`
 --> `+o+`
`+a+` |
`+i.line+" | "+u+`
`+a+" | "+ur("",r.column-1," ")+ur("",f,"^")}else t+=`
 at `+o}return t};In.buildMessage=function(e,t){var n={literal:function(u){return'"'+r(u.text)+'"'},class:function(u){var c=u.parts.map(function(f){return Array.isArray(f)?i(f[0])+"-"+i(f[1]):i(f)});return"["+(u.inverted?"^":"")+c.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function s(u){return u.charCodeAt(0).toString(16).toUpperCase()}function r(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+s(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+s(c)})}function i(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+s(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+s(c)})}function o(u){return n[u.type](u)}function l(u){var c=u.map(o),f,h;if(c.sort(),c.length>0){for(f=1,h=1;f<c.length;f++)c[f-1]!==c[f]&&(c[h]=c[f],h++);c.length=h}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}function a(u){return u?'"'+r(u)+'"':"end of input"}return"Expected "+l(e)+" but "+a(t)+" found."};function yh(e,t){t=t!==void 0?t:{};var n={},s=t.grammarSource,r={pgn:ii},i=ii,o="[",l='"',a="]",u=".",c="O-O-O",f="O-O",h="0-0-0",g="0-0",m="$",b="{",R="}",I=";",T="(",M=")",P="1-0",ee="0-1",de="1/2-1/2",re="*",be=/^[a-zA-Z]/,Me=/^[^"]/,Ie=/^[0-9]/,ze=/^[.]/,st=/^[a-zA-Z1-8\-=]/,Be=/^[+#]/,bt=/^[!?]/,rt=/^[^}]/,te=/^[^\r\n]/,K=/^[ \t\r\n]/,z=ct("tag pair"),Ae=Re("[",!1),ht=Re('"',!1),it=Re("]",!1),ke=ct("tag name"),yt=Ct([["a","z"],["A","Z"]],!1,!1),Ft=ct("tag value"),Et=Ct(['"'],!0,!1),Ye=ct("move number"),A=Ct([["0","9"]],!1,!1),G=Re(".",!1),$=Ct(["."],!1,!1),B=ct("standard algebraic notation"),ne=Re("O-O-O",!1),d=Re("O-O",!1),p=Re("0-0-0",!1),_=Re("0-0",!1),S=Ct([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),x=Ct(["+","#"],!1,!1),w=ct("suffix annotation"),D=Ct(["!","?"],!1,!1),k=ct("NAG"),N=Re("$",!1),O=ct("brace comment"),V=Re("{",!1),F=Ct(["}"],!0,!1),H=Re("}",!1),Q=ct("rest of line comment"),se=Re(";",!1),ue=Ct(["\r",`
`],!0,!1),ie=ct("variation"),Le=Re("(",!1),De=Re(")",!1),ot=ct("game termination marker"),lt=Re("1-0",!1),Zt=Re("0-1",!1),ls=Re("1/2-1/2",!1),He=Re("*",!1),at=ct("whitespace"),Tn=Ct([" ","	","\r",`
`],!1,!1),as=function(v,E){return vh(v,E)},Jl=function(v){return Object.fromEntries(v)},zl=function(v,E){return[v,E]},Xl=function(v,E){return{root:v,marker:E}},Zl=function(v,E){return _h(gh(v),...E.flat())},ea=function(v,E,C,q,W){return mh(v,E,C,q,W)},ta=function(v){return v},na=function(v){return v.replace(/[\r\n]+/g," ")},sa=function(v){return v.trim()},ra=function(v){return v},ia=function(v,E){return{result:v,comment:E}},y=t.peg$currPos|0,dn=[{line:1,column:1}],dt=y,cs=t.peg$maxFailExpected||[],L=t.peg$silentFails|0,Nn;if(t.startRule){if(!(t.startRule in r))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');i=r[t.startRule]}function Re(v,E){return{type:"literal",text:v,ignoreCase:E}}function Ct(v,E,C){return{type:"class",parts:v,inverted:E,ignoreCase:C}}function oa(){return{type:"end"}}function ct(v){return{type:"other",description:v}}function si(v){var E=dn[v],C;if(E)return E;if(v>=dn.length)C=dn.length-1;else for(C=v;!dn[--C];);for(E=dn[C],E={line:E.line,column:E.column};C<v;)e.charCodeAt(C)===10?(E.line++,E.column=1):E.column++,C++;return dn[v]=E,E}function ri(v,E,C){var q=si(v),W=si(E),fe={source:s,start:{offset:v,line:q.line,column:q.column},end:{offset:E,line:W.line,column:W.column}};return fe}function j(v){y<dt||(y>dt&&(dt=y,cs=[]),cs.push(v))}function la(v,E,C){return new In(In.buildMessage(v,E),v,E,C)}function ii(){var v,E,C;return v=y,E=aa(),C=fa(),v=as(E,C),v}function aa(){var v,E,C;for(v=y,E=[],C=oi();C!==n;)E.push(C),C=oi();return C=je(),v=Jl(E),v}function oi(){var v,E,C,q,W,fe,en;return L++,v=y,je(),e.charCodeAt(y)===91?(E=o,y++):(E=n,L===0&&j(Ae)),E!==n?(je(),C=ca(),C!==n?(je(),e.charCodeAt(y)===34?(q=l,y++):(q=n,L===0&&j(ht)),q!==n?(W=ua(),e.charCodeAt(y)===34?(fe=l,y++):(fe=n,L===0&&j(ht)),fe!==n?(je(),e.charCodeAt(y)===93?(en=a,y++):(en=n,L===0&&j(it)),en!==n?v=zl(C,W):(y=v,v=n)):(y=v,v=n)):(y=v,v=n)):(y=v,v=n)):(y=v,v=n),L--,v===n&&L===0&&j(z),v}function ca(){var v,E,C;if(L++,v=y,E=[],C=e.charAt(y),be.test(C)?y++:(C=n,L===0&&j(yt)),C!==n)for(;C!==n;)E.push(C),C=e.charAt(y),be.test(C)?y++:(C=n,L===0&&j(yt));else E=n;return E!==n?v=e.substring(v,y):v=E,L--,v===n&&(E=n,L===0&&j(ke)),v}function ua(){var v,E,C;for(L++,v=y,E=[],C=e.charAt(y),Me.test(C)?y++:(C=n,L===0&&j(Et));C!==n;)E.push(C),C=e.charAt(y),Me.test(C)?y++:(C=n,L===0&&j(Et));return v=e.substring(v,y),L--,E=n,L===0&&j(Ft),v}function fa(){var v,E,C;return v=y,E=li(),je(),C=_a(),C===n&&(C=null),je(),v=Xl(E,C),v}function li(){var v,E,C,q;for(v=y,E=Ys(),E===n&&(E=null),C=[],q=ai();q!==n;)C.push(q),q=ai();return v=Zl(E,C),v}function ai(){var v,E,C,q,W,fe,en,us;if(v=y,je(),ha(),je(),E=da(),E!==n){for(C=pa(),C===n&&(C=null),q=[],W=ci();W!==n;)q.push(W),W=ci();for(W=je(),fe=Ys(),fe===n&&(fe=null),en=[],us=ui();us!==n;)en.push(us),us=ui();v=ea(E,C,q,fe,en)}else y=v,v=n;return v}function ha(){var v,E,C,q,W,fe;for(L++,v=y,E=[],C=e.charAt(y),Ie.test(C)?y++:(C=n,L===0&&j(A));C!==n;)E.push(C),C=e.charAt(y),Ie.test(C)?y++:(C=n,L===0&&j(A));if(e.charCodeAt(y)===46?(C=u,y++):(C=n,L===0&&j(G)),C!==n){for(q=je(),W=[],fe=e.charAt(y),ze.test(fe)?y++:(fe=n,L===0&&j($));fe!==n;)W.push(fe),fe=e.charAt(y),ze.test(fe)?y++:(fe=n,L===0&&j($));E=[E,C,q,W],v=E}else y=v,v=n;return L--,v===n&&(E=n,L===0&&j(Ye)),v}function da(){var v,E,C,q,W,fe;if(L++,v=y,E=y,e.substr(y,5)===c?(C=c,y+=5):(C=n,L===0&&j(ne)),C===n&&(e.substr(y,3)===f?(C=f,y+=3):(C=n,L===0&&j(d)),C===n&&(e.substr(y,5)===h?(C=h,y+=5):(C=n,L===0&&j(p)),C===n&&(e.substr(y,3)===g?(C=g,y+=3):(C=n,L===0&&j(_)),C===n))))if(C=y,q=e.charAt(y),be.test(q)?y++:(q=n,L===0&&j(yt)),q!==n){if(W=[],fe=e.charAt(y),st.test(fe)?y++:(fe=n,L===0&&j(S)),fe!==n)for(;fe!==n;)W.push(fe),fe=e.charAt(y),st.test(fe)?y++:(fe=n,L===0&&j(S));else W=n;W!==n?(q=[q,W],C=q):(y=C,C=n)}else y=C,C=n;return C!==n?(q=e.charAt(y),Be.test(q)?y++:(q=n,L===0&&j(x)),q===n&&(q=null),C=[C,q],E=C):(y=E,E=n),E!==n?v=e.substring(v,y):v=E,L--,v===n&&(E=n,L===0&&j(B)),v}function pa(){var v,E,C;for(L++,v=y,E=[],C=e.charAt(y),bt.test(C)?y++:(C=n,L===0&&j(D));C!==n;)E.push(C),E.length>=2?C=n:(C=e.charAt(y),bt.test(C)?y++:(C=n,L===0&&j(D)));return E.length<1?(y=v,v=n):v=E,L--,v===n&&(E=n,L===0&&j(w)),v}function ci(){var v,E,C,q,W;if(L++,v=y,je(),e.charCodeAt(y)===36?(E=m,y++):(E=n,L===0&&j(N)),E!==n){if(C=y,q=[],W=e.charAt(y),Ie.test(W)?y++:(W=n,L===0&&j(A)),W!==n)for(;W!==n;)q.push(W),W=e.charAt(y),Ie.test(W)?y++:(W=n,L===0&&j(A));else q=n;q!==n?C=e.substring(C,y):C=q,C!==n?v=ta(C):(y=v,v=n)}else y=v,v=n;return L--,v===n&&L===0&&j(k),v}function Ys(){var v;return v=ga(),v===n&&(v=ma()),v}function ga(){var v,E,C,q,W;if(L++,v=y,e.charCodeAt(y)===123?(E=b,y++):(E=n,L===0&&j(V)),E!==n){for(C=y,q=[],W=e.charAt(y),rt.test(W)?y++:(W=n,L===0&&j(F));W!==n;)q.push(W),W=e.charAt(y),rt.test(W)?y++:(W=n,L===0&&j(F));C=e.substring(C,y),e.charCodeAt(y)===125?(q=R,y++):(q=n,L===0&&j(H)),q!==n?v=na(C):(y=v,v=n)}else y=v,v=n;return L--,v===n&&(E=n,L===0&&j(O)),v}function ma(){var v,E,C,q,W;if(L++,v=y,e.charCodeAt(y)===59?(E=I,y++):(E=n,L===0&&j(se)),E!==n){for(C=y,q=[],W=e.charAt(y),te.test(W)?y++:(W=n,L===0&&j(ue));W!==n;)q.push(W),W=e.charAt(y),te.test(W)?y++:(W=n,L===0&&j(ue));C=e.substring(C,y),v=sa(C)}else y=v,v=n;return L--,v===n&&(E=n,L===0&&j(Q)),v}function ui(){var v,E,C,q;return L++,v=y,je(),e.charCodeAt(y)===40?(E=T,y++):(E=n,L===0&&j(Le)),E!==n?(C=li(),C!==n?(je(),e.charCodeAt(y)===41?(q=M,y++):(q=n,L===0&&j(De)),q!==n?v=ra(C):(y=v,v=n)):(y=v,v=n)):(y=v,v=n),L--,v===n&&L===0&&j(ie),v}function _a(){var v,E,C;return L++,v=y,e.substr(y,3)===P?(E=P,y+=3):(E=n,L===0&&j(lt)),E===n&&(e.substr(y,3)===ee?(E=ee,y+=3):(E=n,L===0&&j(Zt)),E===n&&(e.substr(y,7)===de?(E=de,y+=7):(E=n,L===0&&j(ls)),E===n&&(e.charCodeAt(y)===42?(E=re,y++):(E=n,L===0&&j(He))))),E!==n?(je(),C=Ys(),C===n&&(C=null),v=ia(E,C)):(y=v,v=n),L--,v===n&&(E=n,L===0&&j(ot)),v}function je(){var v,E;for(L++,v=[],E=e.charAt(y),K.test(E)?y++:(E=n,L===0&&j(Tn));E!==n;)v.push(E),E=e.charAt(y),K.test(E)?y++:(E=n,L===0&&j(Tn));return L--,E=n,L===0&&j(at),v}if(Nn=i(),t.peg$library)return{peg$result:Nn,peg$currPos:y,peg$FAILED:n,peg$maxFailExpected:cs,peg$maxFailPos:dt};if(Nn!==n&&y===e.length)return Nn;throw Nn!==n&&y<e.length&&j(oa()),la(cs,dt<e.length?e.charAt(dt):null,dt<e.length?ri(dt,dt+1):ri(dt,dt))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Es=0xffffffffffffffffn;function fr(e,t){return(e<<t|e>>64n-t)&0xffffffffffffffffn}function to(e,t){return e*t&Es}function Eh(e){return function(){let t=BigInt(e&Es),n=BigInt(e>>64n&Es);const s=to(fr(to(t,5n),7n),9n);return n^=t,t=(fr(t,24n)^n^n<<16n)&Es,n=fr(n,37n),e=n<<64n|t,s}}const Ws=Eh(0xa187eb39cdcaed8f31c4b365b102e01en),Ch=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Ws()))),Sh=Array.from({length:8},()=>Ws()),Ah=Array.from({length:16},()=>Ws()),hr=Ws(),$e="w",Xe="b",Ce="p",Pr="n",Cs="b",Fn="r",Vt="q",xe="k",dr="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class ps{constructor(t,n){ye(this,"color");ye(this,"from");ye(this,"to");ye(this,"piece");ye(this,"captured");ye(this,"promotion");ye(this,"flags");ye(this,"san");ye(this,"lan");ye(this,"before");ye(this,"after");const{color:s,piece:r,from:i,to:o,flags:l,captured:a,promotion:u}=n,c=Oe(i),f=Oe(o);this.color=s,this.piece=r,this.from=c,this.to=f,this.san=t._moveToSan(n,t._moves({legal:!0})),this.lan=c+f,this.before=t.fen(),t._makeMove(n),this.after=t.fen(),t._undoMove(),this.flags="";for(const h in J)J[h]&l&&(this.flags+=sn[h]);a&&(this.captured=a),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(sn.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(sn.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(sn.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(sn.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(sn.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(sn.BIG_PAWN)>-1}}const Te=-1,sn={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},J={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Mr={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},wh={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},xh={...Mr,...wh},Y={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},pr={b:[16,32,17,15],w:[-16,-32,-17,-15]},no={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Rh=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],Oh=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Ih={p:1,n:2,b:4,r:8,q:16,k:32},Th="pnbrqkPNBRQK",so=[Pr,Cs,Fn,Vt],Nh=7,Ph=6,Mh=1,kh=0,gs={[xe]:J.KSIDE_CASTLE,[Vt]:J.QSIDE_CASTLE},Kt={w:[{square:Y.a1,flag:J.QSIDE_CASTLE},{square:Y.h1,flag:J.KSIDE_CASTLE}],b:[{square:Y.a8,flag:J.QSIDE_CASTLE},{square:Y.h8,flag:J.KSIDE_CASTLE}]},Lh={b:Mh,w:Ph},gr="--";function cn(e){return e>>4}function ts(e){return e&15}function Bl(e){return"0123456789".indexOf(e)!==-1}function Oe(e){const t=ts(e),n=cn(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function Ln(e){return e===$e?Xe:$e}function Dh(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(t[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const r=t[0].split("/");if(r.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<r.length;o++){let l=0,a=!1;for(let u=0;u<r[o].length;u++)if(Bl(r[o][u])){if(a)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(r[o][u],10),a=!0}else{if(!/^[prnbqkPRNBQK]$/.test(r[o][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,a=!1}if(l!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:l}of i){if(!l.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((t[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(r[0]+r[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function $h(e,t){const n=e.from,s=e.to,r=e.piece;let i=0,o=0,l=0;for(let a=0,u=t.length;a<u;a++){const c=t[a].from,f=t[a].to,h=t[a].piece;r===h&&n!==c&&s===f&&(i++,cn(n)===cn(c)&&o++,ts(n)===ts(c)&&l++)}return i>0?o>0&&l>0?Oe(n):l>0?Oe(n).charAt(1):Oe(n).charAt(0):""}function Ut(e,t,n,s,r,i=void 0,o=J.NORMAL){const l=cn(s);if(r===Ce&&(l===Nh||l===kh))for(let a=0;a<so.length;a++){const u=so[a];e.push({color:t,from:n,to:s,piece:r,captured:i,promotion:u,flags:o|J.PROMOTION})}else e.push({color:t,from:n,to:s,piece:r,captured:i,flags:o})}function ro(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:Ce:(t=t.toLowerCase(),t==="o"?xe:t)}function mr(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Hl{constructor(t=dr,{skipValidation:n=!1}={}){ye(this,"_board",new Array(128));ye(this,"_turn",$e);ye(this,"_header",{});ye(this,"_kings",{w:Te,b:Te});ye(this,"_epSquare",-1);ye(this,"_halfMoves",0);ye(this,"_moveNumber",0);ye(this,"_history",[]);ye(this,"_comments",{});ye(this,"_castling",{w:0,b:0});ye(this,"_hash",0n);ye(this,"_positionCount",new Map);this.load(t,{skipValidation:n})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:Te,b:Te},this._turn=$e,this._castling={w:0,b:0},this._epSquare=Te,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...xh},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:n=!1,preserveHeaders:s=!1}={}){let r=t.split(/\s+/);if(r.length>=2&&r.length<6){const l=["-","-","0","1"];t=r.concat(l.slice(-(6-r.length))).join(" ")}if(r=t.split(/\s+/),!n){const{ok:l,error:a}=Dh(t);if(!l)throw new Error(a)}const i=r[0];let o=0;this.clear({preserveHeaders:s});for(let l=0;l<i.length;l++){const a=i.charAt(l);if(a==="/")o+=8;else if(Bl(a))o+=parseInt(a,10);else{const u=a<"a"?$e:Xe;this._put({type:a.toLowerCase(),color:u},Oe(o)),o++}}this._turn=r[1],r[2].indexOf("K")>-1&&(this._castling.w|=J.KSIDE_CASTLE),r[2].indexOf("Q")>-1&&(this._castling.w|=J.QSIDE_CASTLE),r[2].indexOf("k")>-1&&(this._castling.b|=J.KSIDE_CASTLE),r[2].indexOf("q")>-1&&(this._castling.b|=J.QSIDE_CASTLE),this._epSquare=r[3]==="-"?Te:Y[r[3]],this._halfMoves=parseInt(r[4],10),this._moveNumber=parseInt(r[5],10),this._hash=this._computeHash(),this._updateSetup(t),this._incPositionCount()}fen({forceEnpassantSquare:t=!1}={}){var o,l;let n=0,s="";for(let a=Y.a8;a<=Y.h1;a++){if(this._board[a]){n>0&&(s+=n,n=0);const{color:u,type:c}=this._board[a];s+=u===$e?c.toUpperCase():c.toLowerCase()}else n++;a+1&136&&(n>0&&(s+=n),a!==Y.h1&&(s+="/"),n=0,a+=8)}let r="";this._castling[$e]&J.KSIDE_CASTLE&&(r+="K"),this._castling[$e]&J.QSIDE_CASTLE&&(r+="Q"),this._castling[Xe]&J.KSIDE_CASTLE&&(r+="k"),this._castling[Xe]&J.QSIDE_CASTLE&&(r+="q"),r=r||"-";let i="-";if(this._epSquare!==Te)if(t)i=Oe(this._epSquare);else{const a=this._epSquare+(this._turn===$e?16:-16),u=[a+1,a-1];for(const c of u){if(c&136)continue;const f=this._turn;if(((o=this._board[c])==null?void 0:o.color)===f&&((l=this._board[c])==null?void 0:l.type)===Ce){this._makeMove({color:f,from:c,to:this._epSquare,piece:Ce,captured:Ce,flags:J.EP_CAPTURE});const h=!this._isKingAttacked(f);if(this._undoMove(),h){i=Oe(this._epSquare);break}}}}return[s,this._turn,r,i,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(t){if(!this._board[t])return 0n;const{color:n,type:s}=this._board[t],r={w:0,b:1}[n],i={p:0,n:1,b:2,r:3,q:4,k:5}[s];return Ch[r][i][t]}_epKey(){return this._epSquare===Te?0n:Sh[this._epSquare&7]}_castlingKey(){const t=this._castling.w>>5|this._castling.b>>3;return Ah[t]}_computeHash(){let t=0n;for(let n=Y.a8;n<=Y.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(t^=this._pieceKey(n))}return t^=this._epKey(),t^=this._castlingKey(),this._turn==="b"&&(t^=hr),t}_updateSetup(t){this._history.length>0||(t!==dr?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(dr)}get(t){return this._board[Y[t]]}findPiece(t){var s;const n=[];for(let r=Y.a8;r<=Y.h1;r++){if(r&136){r+=7;continue}!this._board[r]||((s=this._board[r])==null?void 0:s.color)!==t.color||this._board[r].color===t.color&&this._board[r].type===t.type&&n.push(Oe(r))}return n}put({type:t,color:n},s){return this._put({type:t,color:n},s)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(t,n){this._hash^=this._pieceKey(t),this._board[t]=n,this._hash^=this._pieceKey(t)}_put({type:t,color:n},s){if(Th.indexOf(t.toLowerCase())===-1||!(s in Y))return!1;const r=Y[s];if(t==xe&&!(this._kings[n]==Te||this._kings[n]==r))return!1;const i=this._board[r];return i&&i.type===xe&&(this._kings[i.color]=Te),this._set(r,{type:t,color:n}),t===xe&&(this._kings[n]=r),!0}_clear(t){this._hash^=this._pieceKey(t),delete this._board[t]}remove(t){const n=this.get(t);return this._clear(Y[t]),n&&n.type===xe&&(this._kings[n.color]=Te),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){var s,r,i,o,l,a,u,c,f,h,g,m;this._hash^=this._castlingKey();const t=((s=this._board[Y.e1])==null?void 0:s.type)===xe&&((r=this._board[Y.e1])==null?void 0:r.color)===$e,n=((i=this._board[Y.e8])==null?void 0:i.type)===xe&&((o=this._board[Y.e8])==null?void 0:o.color)===Xe;(!t||((l=this._board[Y.a1])==null?void 0:l.type)!==Fn||((a=this._board[Y.a1])==null?void 0:a.color)!==$e)&&(this._castling.w&=-65),(!t||((u=this._board[Y.h1])==null?void 0:u.type)!==Fn||((c=this._board[Y.h1])==null?void 0:c.color)!==$e)&&(this._castling.w&=-33),(!n||((f=this._board[Y.a8])==null?void 0:f.type)!==Fn||((h=this._board[Y.a8])==null?void 0:h.color)!==Xe)&&(this._castling.b&=-65),(!n||((g=this._board[Y.h8])==null?void 0:g.type)!==Fn||((m=this._board[Y.h8])==null?void 0:m.color)!==Xe)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var i,o;if(this._epSquare===Te)return;const t=this._epSquare+(this._turn===$e?-16:16),n=this._epSquare+(this._turn===$e?16:-16),s=[n+1,n-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||((i=this._board[n])==null?void 0:i.color)!==Ln(this._turn)||((o=this._board[n])==null?void 0:o.type)!==Ce){this._hash^=this._epKey(),this._epSquare=Te;return}const r=l=>{var a,u;return!(l&136)&&((a=this._board[l])==null?void 0:a.color)===this._turn&&((u=this._board[l])==null?void 0:u.type)===Ce};s.some(r)||(this._hash^=this._epKey(),this._epSquare=Te)}_attacked(t,n,s){const r=[];for(let i=Y.a8;i<=Y.h1;i++){if(i&136){i+=7;continue}if(this._board[i]===void 0||this._board[i].color!==t)continue;const o=this._board[i],l=i-n;if(l===0)continue;const a=l+119;if(Rh[a]&Ih[o.type]){if(o.type===Ce){if(l>0&&o.color===$e||l<=0&&o.color===Xe)if(s)r.push(Oe(i));else return!0;continue}if(o.type==="n"||o.type==="k")if(s){r.push(Oe(i));continue}else return!0;const u=Oh[a];let c=i+u,f=!1;for(;c!==n;){if(this._board[c]!=null){f=!0;break}c+=u}if(!f)if(s){r.push(Oe(i));continue}else return!0}}return s?r:!1}attackers(t,n){return n?this._attacked(n,Y[t],!0):this._attacked(this._turn,Y[t],!0)}_isKingAttacked(t){const n=this._kings[t];return n===-1?!1:this._attacked(Ln(t),n)}hash(){return this._hash.toString(16)}isAttacked(t,n){return this._attacked(n,Y[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let s=0,r=0;for(let i=Y.a8;i<=Y.h1;i++){if(r=(r+1)%2,i&136){i+=7;continue}const o=this._board[i];o&&(t[o.type]=o.type in t?t[o.type]+1:1,o.type===Cs&&n.push(r),s++)}if(s===2)return!0;if(s===3&&(t[Cs]===1||t[Pr]===1))return!0;if(s===t[Cs]+2){let i=0;const o=n.length;for(let l=0;l<o;l++)i+=n[l];if(i===0||i===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:t=!1,square:n=void 0,piece:s=void 0}={}){const r=this._moves({square:n,piece:s});return t?r.map(i=>new ps(this,i)):r.map(i=>this._moveToSan(i,r))}_moves({legal:t=!0,piece:n=void 0,square:s=void 0}={}){var g;const r=s?s.toLowerCase():void 0,i=n==null?void 0:n.toLowerCase(),o=[],l=this._turn,a=Ln(l);let u=Y.a8,c=Y.h1,f=!1;if(r)if(r in Y)u=c=Y[r],f=!0;else return[];for(let m=u;m<=c;m++){if(m&136){m+=7;continue}if(!this._board[m]||this._board[m].color===a)continue;const{type:b}=this._board[m];let R;if(b===Ce){if(i&&i!==b)continue;R=m+pr[l][0],this._board[R]||(Ut(o,l,m,R,Ce),R=m+pr[l][1],Lh[l]===cn(m)&&!this._board[R]&&Ut(o,l,m,R,Ce,void 0,J.BIG_PAWN));for(let I=2;I<4;I++)R=m+pr[l][I],!(R&136)&&(((g=this._board[R])==null?void 0:g.color)===a?Ut(o,l,m,R,Ce,this._board[R].type,J.CAPTURE):R===this._epSquare&&Ut(o,l,m,R,Ce,Ce,J.EP_CAPTURE))}else{if(i&&i!==b)continue;for(let I=0,T=no[b].length;I<T;I++){const M=no[b][I];for(R=m;R+=M,!(R&136);){if(!this._board[R])Ut(o,l,m,R,b);else{if(this._board[R].color===l)break;Ut(o,l,m,R,b,this._board[R].type,J.CAPTURE);break}if(b===Pr||b===xe)break}}}}if((i===void 0||i===xe)&&(!f||c===this._kings[l])){if(this._castling[l]&J.KSIDE_CASTLE){const m=this._kings[l],b=m+2;!this._board[m+1]&&!this._board[b]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,m+1)&&!this._attacked(a,b)&&Ut(o,l,this._kings[l],b,xe,void 0,J.KSIDE_CASTLE)}if(this._castling[l]&J.QSIDE_CASTLE){const m=this._kings[l],b=m-2;!this._board[m-1]&&!this._board[m-2]&&!this._board[m-3]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,m-1)&&!this._attacked(a,b)&&Ut(o,l,this._kings[l],b,xe,void 0,J.QSIDE_CASTLE)}}if(!t||this._kings[l]===-1)return o;const h=[];for(let m=0,b=o.length;m<b;m++)this._makeMove(o[m]),this._isKingAttacked(l)||h.push(o[m]),this._undoMove();return h}move(t,{strict:n=!1}={}){let s=null;if(typeof t=="string")s=this._moveFromSan(t,n);else if(t===null)s=this._moveFromSan(gr,n);else if(typeof t=="object"){const i=this._moves();for(let o=0,l=i.length;o<l;o++)if(t.from===Oe(i[o].from)&&t.to===Oe(i[o].to)&&(!("promotion"in i[o])||t.promotion===i[o].promotion)){s=i[o];break}}if(!s)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);if(this.isCheck()&&s.flags&J.NULL_MOVE)throw new Error("Null move not allowed when in check");const r=new ps(this,s);return this._makeMove(s),this._incPositionCount(),r}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(t,n){this._hash^=this._pieceKey(t),this._board[n]=this._board[t],delete this._board[t],this._hash^=this._pieceKey(n)}_makeMove(t){var r,i,o,l;const n=this._turn,s=Ln(n);if(this._push(t),t.flags&J.NULL_MOVE){n===Xe&&this._moveNumber++,this._halfMoves++,this._turn=s,this._epSquare=Te;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),t.captured&&(this._hash^=this._pieceKey(t.to)),this._movePiece(t.from,t.to),t.flags&J.EP_CAPTURE&&(this._turn===Xe?this._clear(t.to-16):this._clear(t.to+16)),t.promotion&&(this._clear(t.to),this._set(t.to,{type:t.promotion,color:n})),this._board[t.to].type===xe){if(this._kings[n]=t.to,t.flags&J.KSIDE_CASTLE){const a=t.to-1,u=t.to+1;this._movePiece(u,a)}else if(t.flags&J.QSIDE_CASTLE){const a=t.to+1,u=t.to-2;this._movePiece(u,a)}this._castling[n]=0}if(this._castling[n]){for(let a=0,u=Kt[n].length;a<u;a++)if(t.from===Kt[n][a].square&&this._castling[n]&Kt[n][a].flag){this._castling[n]^=Kt[n][a].flag;break}}if(this._castling[s]){for(let a=0,u=Kt[s].length;a<u;a++)if(t.to===Kt[s][a].square&&this._castling[s]&Kt[s][a].flag){this._castling[s]^=Kt[s][a].flag;break}}if(this._hash^=this._castlingKey(),t.flags&J.BIG_PAWN){let a;n===Xe?a=t.to-16:a=t.to+16,!(t.to-1&136)&&((r=this._board[t.to-1])==null?void 0:r.type)===Ce&&((i=this._board[t.to-1])==null?void 0:i.color)===s||!(t.to+1&136)&&((o=this._board[t.to+1])==null?void 0:o.type)===Ce&&((l=this._board[t.to+1])==null?void 0:l.color)===s?(this._epSquare=a,this._hash^=this._epKey()):this._epSquare=Te}else this._epSquare=Te;t.piece===Ce?this._halfMoves=0:t.flags&(J.CAPTURE|J.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===Xe&&this._moveNumber++,this._turn=s,this._hash^=hr}undo(){const t=this._hash,n=this._undoMove();if(n){const s=new ps(this,n);return this._decPositionCount(t),s}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=hr;const s=this._turn,r=Ln(s);if(n.flags&J.NULL_MOVE)return n;if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:s})),n.captured)if(n.flags&J.EP_CAPTURE){let i;s===Xe?i=n.to-16:i=n.to+16,this._set(i,{type:Ce,color:r})}else this._set(n.to,{type:n.captured,color:r});if(n.flags&(J.KSIDE_CASTLE|J.QSIDE_CASTLE)){let i,o;n.flags&J.KSIDE_CASTLE?(i=n.to+1,o=n.to-1):(i=n.to-2,o=n.to+1),this._movePiece(o,i)}return n}pgn({newline:t=`
`,maxWidth:n=0}={}){const s=[];let r=!1;for(const h in this._header)this._header[h]&&s.push(`[${h} "${this._header[h]}"]`+t),r=!0;r&&this._history.length&&s.push(t);const i=h=>{const g=this._comments[this.fen()];if(typeof g<"u"){const m=h.length>0?" ":"";h=`${h}${m}{${g}}`}return h},o=[];for(;this._history.length>0;)o.push(this._undoMove());const l=[];let a="";for(o.length===0&&l.push(i(""));o.length>0;){a=i(a);const h=o.pop();if(!h)break;if(!this._history.length&&h.color==="b"){const g=`${this._moveNumber}. ...`;a=a?`${a} ${g}`:g}else h.color==="w"&&(a.length&&l.push(a),a=this._moveNumber+".");a=a+" "+this._moveToSan(h,this._moves({legal:!0})),this._makeMove(h)}if(a.length&&l.push(i(a)),l.push(this._header.Result||"*"),n===0)return s.join("")+l.join(" ");const u=function(){return s.length>0&&s[s.length-1]===" "?(s.pop(),!0):!1},c=function(h,g){for(const m of g.split(" "))if(m){if(h+m.length>n){for(;u();)h--;s.push(t),h=0}s.push(m),h+=m.length,s.push(" "),h++}return u()&&h--,h};let f=0;for(let h=0;h<l.length;h++){if(f+l[h].length>n&&l[h].includes("{")){f=c(f,l[h]);continue}f+l[h].length>n&&h!==0?(s[s.length-1]===" "&&s.pop(),s.push(t),f=0):h!==0&&(s.push(" "),f++),s.push(l[h]),f+=l[h].length}return s.join("")}header(...t){for(let n=0;n<t.length;n+=2)typeof t[n]=="string"&&typeof t[n+1]=="string"&&(this._header[t[n]]=t[n+1]);return this._header}setHeader(t,n){return this._header[t]=n??Mr[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=Mr[t]||null,!0):!1}getHeaders(){const t={};for(const[n,s]of Object.entries(this._header))s!==null&&(t[n]=s);return t}loadPgn(t,{strict:n=!1,newlineChar:s=`\r?
`}={}){s!==`\r?
`&&(t=t.replace(new RegExp(s,"g"),`
`));const r=yh(t);this.reset();const i=r.headers;let o="";for(const u in i)u.toLowerCase()==="fen"&&(o=i[u]),this.header(u,i[u]);if(!n)o&&this.load(o,{preserveHeaders:!0});else if(i.SetUp==="1"){if(!("FEN"in i))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(i.FEN,{preserveHeaders:!0})}let l=r.root;for(;l;){if(l.move){const u=this._moveFromSan(l.move,n);if(u==null)throw new Error(`Invalid move in PGN: ${l.move}`);this._makeMove(u),this._incPositionCount()}l.comment!==void 0&&(this._comments[this.fen()]=l.comment),l=l.variations[0]}const a=r.result;a&&Object.keys(this._header).length&&this._header.Result!==a&&this.setHeader("Result",a)}_moveToSan(t,n){let s="";if(t.flags&J.KSIDE_CASTLE)s="O-O";else if(t.flags&J.QSIDE_CASTLE)s="O-O-O";else{if(t.flags&J.NULL_MOVE)return gr;if(t.piece!==Ce){const r=$h(t,n);s+=t.piece.toUpperCase()+r}t.flags&(J.CAPTURE|J.EP_CAPTURE)&&(t.piece===Ce&&(s+=Oe(t.from)[0]),s+="x"),s+=Oe(t.to),t.promotion&&(s+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(t,n=!1){let s=mr(t);if(n||(s==="0-0"?s="O-O":s==="0-0-0"&&(s="O-O-O")),s==gr)return{color:this._turn,from:0,to:0,piece:"k",flags:J.NULL_MOVE};let r=ro(s),i=this._moves({legal:!0,piece:r});for(let h=0,g=i.length;h<g;h++)if(s===mr(this._moveToSan(i[h],i)))return i[h];if(n)return null;let o,l,a,u,c,f=!1;if(l=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(o=l[1],a=l[2],u=l[3],c=l[4],a.length==1&&(f=!0)):(l=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(o=l[1],a=l[2],u=l[3],c=l[4],a.length==1&&(f=!0))),r=ro(s),i=this._moves({legal:!0,piece:o||r}),!u)return null;for(let h=0,g=i.length;h<g;h++)if(a){if((!o||o.toLowerCase()==i[h].piece)&&Y[a]==i[h].from&&Y[u]==i[h].to&&(!c||c.toLowerCase()==i[h].promotion))return i[h];if(f){const m=Oe(i[h].from);if((!o||o.toLowerCase()==i[h].piece)&&Y[u]==i[h].to&&(a==m[0]||a==m[1])&&(!c||c.toLowerCase()==i[h].promotion))return i[h]}}else if(s===mr(this._moveToSan(i[h],i)).replace("x",""))return i[h];return null}ascii(){let t=`   +------------------------+
`;for(let n=Y.a8;n<=Y.h1;n++){if(ts(n)===0&&(t+=" "+"87654321"[cn(n)]+" |"),this._board[n]){const s=this._board[n].type,i=this._board[n].color===$e?s.toUpperCase():s.toLowerCase();t+=" "+i+" "}else t+=" . ";n+1&136&&(t+=`|
`,n+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const n=this._moves({legal:!1});let s=0;const r=this._turn;for(let i=0,o=n.length;i<o;i++)this._makeMove(n[i]),this._isKingAttacked(r)||(t-1>0?s+=this.perft(t-1):s++),this._undoMove();return s}setTurn(t){return this._turn==t?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const t=[];let n=[];for(let s=Y.a8;s<=Y.h1;s++)this._board[s]==null?n.push(null):n.push({square:Oe(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(t.push(n),n=[],s+=8);return t}squareColor(t){if(t in Y){const n=Y[t];return(cn(n)+ts(n))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const n=[],s=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const r=n.pop();if(!r)break;t?s.push(new ps(this,r)):s.push(this._moveToSan(r,this._moves())),this._makeMove(r)}return s}_getPositionCount(t){return this._positionCount.get(t)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(t){const n=this._positionCount.get(t)??0;n===1?this._positionCount.delete(t):this._positionCount.set(t,n-1)}_pruneComments(){const t=[],n={},s=r=>{r in this._comments&&(n[r]=this._comments[r])};for(;this._history.length>0;)t.push(this._undoMove());for(s(this.fen());;){const r=t.pop();if(!r)break;this._makeMove(r),s(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const n=this._comments[t];return delete this._comments[t],{fen:t,comment:n}})}setCastlingRights(t,n){for(const r of[xe,Vt])n[r]!==void 0&&(n[r]?this._castling[t]|=gs[r]:this._castling[t]&=~gs[r]);this._updateCastlingRights();const s=this.getCastlingRights(t);return(n[xe]===void 0||n[xe]===s[xe])&&(n[Vt]===void 0||n[Vt]===s[Vt])}getCastlingRights(t){return{[xe]:(this._castling[t]&gs[xe])!==0,[Vt]:(this._castling[t]&gs[Vt])!==0}}moveNumber(){return this._moveNumber}}function Fh(){const e=new Hl,t=_e(e.fen()),n=_e(e.turn()),s=_e(e.isGameOver()),r=_e(e.isCheckmate()),i=_e(e.isDraw()),o=_e(e.history()),l=tt(()=>(t.value,e.board())),a=_e({w:[],b:[]}),u=_e(!1),c=()=>{t.value=e.fen(),n.value=e.turn(),s.value=e.isGameOver(),r.value=e.isCheckmate(),i.value=e.isDraw(),o.value=e.history();const T=e.history({verbose:!0}),M={w:[],b:[]};for(const P of T)P.captured&&(P.color==="w"?M.w.push(P.captured):M.b.push(P.captured));a.value=M},f=()=>{e.reset(),c()},h=()=>{u.value=!u.value},g=T=>{if(u.value)return;const M=new Audio;switch(T){case"move":M.src="/move-self.mp3";break;case"capture":M.src="/capture.mp3";break;case"notify":M.src="/notify.mp3";break}M.play().catch(P=>console.error("Audio play failed:",P))},m=T=>{try{if(typeof T=="string"&&/^[a-h][1-8][a-h][1-8][qrbn]?$/.test(T)){const P={from:T.substring(0,2),to:T.substring(2,4),promotion:T.substring(4)||void 0},ee=e.move(P);if(ee)return c(),e.inCheck()||e.isGameOver()?g("notify"):ee.captured?g("capture"):g("move"),ee}const M=e.move(T);if(M)return c(),e.inCheck()||e.isGameOver()?g("notify"):M.captured?g("capture"):g("move"),M}catch{return null}return null},b=T=>e.moves({square:T,verbose:!0}),R=()=>e.moves(),I=T=>{try{return e.loadPgn(T),c(),!0}catch(M){return console.error("Failed to load PGN",M),!1}};return{chess:e,fen:t,turn:n,isGameOver:s,isCheckmate:r,isDraw:i,history:o,board:l,boardState:tt(()=>(t.value,e.board())),makeMove:m,resetGame:f,loadGame:I,getLegalMoves:b,getLegalMovesSAN:R,capturedPieces:a,isMuted:u,toggleMute:h}}const Gh={"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1":"e2e4","rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq - 0 1":"e7e5","rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 1":"g1f3","rnbqkbnr/pppp1ppp/8/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 1":"b8c6","r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 2":"f1b5","rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 1":"g1f3"},Kh=e=>Gh[e]||null;var io;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(io||(io={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oo;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(oo||(oo={}));var lo;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(lo||(lo={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=["user","model","function","system"];var vn;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(vn||(vn={}));var bn;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(bn||(bn={}));var co;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(co||(co={}));var uo;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(uo||(uo={}));var Yn;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Yn||(Yn={}));var fo;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(fo||(fo={}));var ho;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(ho||(ho={}));var po;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(po||(po={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class gn extends Ke{constructor(t,n){super(t),this.response=n}}class jl extends Ke{constructor(t,n,s,r){super(t),this.status=n,this.statusText=s,this.errorDetails=r}}class Jt extends Ke{}class ql extends Ke{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="https://generativelanguage.googleapis.com",Bh="v1beta",Hh="0.24.1",jh="genai-js";var un;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(un||(un={}));class qh{constructor(t,n,s,r,i){this.model=t,this.task=n,this.apiKey=s,this.stream=r,this.requestOptions=i}toString(){var t,n;const s=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Bh;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Uh}/${s}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Vh(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${jh}/${Hh}`),t.join(" ")}async function Wh(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Vh(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let s=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(r){throw new Jt(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${r.message}`)}for(const[r,i]of s.entries()){if(r==="x-goog-api-key")throw new Jt(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new Jt(`Header name ${r} can only be set using the apiClient field`);n.append(r,i)}}return n}async function Yh(e,t,n,s,r,i){const o=new qh(e,t,n,s,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Xh(i)),{method:"POST",headers:await Wh(o),body:r})}}async function os(e,t,n,s,r,i={},o=fetch){const{url:l,fetchOptions:a}=await Yh(e,t,n,s,r,i);return Qh(l,a,o)}async function Qh(e,t,n=fetch){let s;try{s=await n(e,t)}catch(r){Jh(r,e)}return s.ok||await zh(s,e),s}function Jh(e,t){let n=e;throw n.name==="AbortError"?(n=new ql(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof jl||e instanceof Jt||(n=new Ke(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function zh(e,t){let n="",s;try{const r=await e.json();n=r.error.message,r.error.details&&(n+=` ${JSON.stringify(r.error.details)}`,s=r.error.details)}catch{}throw new jl(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,s)}function Xh(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ss(e.candidates[0]))throw new gn(`${Wt(e)}`,e);return Zh(e)}else if(e.promptFeedback)throw new gn(`Text not available. ${Wt(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ss(e.candidates[0]))throw new gn(`${Wt(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),go(e)[0]}else if(e.promptFeedback)throw new gn(`Function call not available. ${Wt(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ss(e.candidates[0]))throw new gn(`${Wt(e)}`,e);return go(e)}else if(e.promptFeedback)throw new gn(`Function call not available. ${Wt(e)}`,e)},e}function Zh(e){var t,n,s,r;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(r=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||r===void 0?void 0:r.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function go(e){var t,n,s,r;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(r=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||r===void 0?void 0:r.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const ed=[Yn.RECITATION,Yn.SAFETY,Yn.LANGUAGE];function Ss(e){return!!e.finishReason&&ed.includes(e.finishReason)}function Wt(e){var t,n,s;let r="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)r+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(r+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(r+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((s=e.candidates)===null||s===void 0)&&s[0]){const i=e.candidates[0];Ss(i)&&(r+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(r+=`: ${i.finishMessage}`))}return r}function ns(e){return this instanceof ns?(this.v=e,this):new ns(e)}function td(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),r,i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){s[h]&&(r[h]=function(g){return new Promise(function(m,b){i.push([h,g,m,b])>1||l(h,g)})})}function l(h,g){try{a(s[h](g))}catch(m){f(i[0][3],m)}}function a(h){h.value instanceof ns?Promise.resolve(h.value.v).then(u,c):f(i[0][2],h)}function u(h){l("next",h)}function c(h){l("throw",h)}function f(h,g){h(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function nd(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=id(t),[s,r]=n.tee();return{stream:rd(s),response:sd(r)}}async function sd(e){const t=[],n=e.getReader();for(;;){const{done:s,value:r}=await n.read();if(s)return ni(od(t));t.push(r)}}function rd(e){return td(this,arguments,function*(){const n=e.getReader();for(;;){const{value:s,done:r}=yield ns(n.read());if(r)break;yield yield ns(ni(s))}})}function id(e){const t=e.getReader();return new ReadableStream({start(s){let r="";return i();function i(){return t.read().then(({value:o,done:l})=>{if(l){if(r.trim()){s.error(new Ke("Failed to parse stream"));return}s.close();return}r+=o;let a=r.match(mo),u;for(;a;){try{u=JSON.parse(a[1])}catch{s.error(new Ke(`Error parsing JSON response: "${a[1]}"`));return}s.enqueue(u),r=r.substring(a[0].length),a=r.match(mo)}return i()}).catch(o=>{let l=o;throw l.stack=o.stack,l.name==="AbortError"?l=new ql("Request aborted when reading from the stream"):l=new Ke("Error reading from the stream"),l})}}})}function od(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const s of e){if(s.candidates){let r=0;for(const i of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[r]||(n.candidates[r]={index:r}),n.candidates[r].citationMetadata=i.citationMetadata,n.candidates[r].groundingMetadata=i.groundingMetadata,n.candidates[r].finishReason=i.finishReason,n.candidates[r].finishMessage=i.finishMessage,n.candidates[r].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[r].content||(n.candidates[r].content={role:i.content.role||"user",parts:[]});const o={};for(const l of i.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[r].content.parts.push(o)}r++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(e,t,n,s){const r=await os(t,un.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),s);return nd(r)}async function Wl(e,t,n,s){const i=await(await os(t,un.GENERATE_CONTENT,e,!1,JSON.stringify(n),s)).json();return{response:ni(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function ss(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return ld(t)}function ld(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,r=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),r=!0):(t.parts.push(i),s=!0);if(s&&r)throw new Ke("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!r)throw new Ke("No content is provided for sending chat message.");return s?t:n}function ad(e,t){var n;let s={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const r=e.generateContentRequest!=null;if(e.contents){if(r)throw new Jt("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=e.contents}else if(r)s=Object.assign(Object.assign({},s),e.generateContentRequest);else{const i=ss(e);s.contents=[i]}return{generateContentRequest:s}}function _o(e){let t;return e.contents?t=e:t={contents:[ss(e)]},e.systemInstruction&&(t.systemInstruction=Yl(e.systemInstruction)),t}function cd(e){return typeof e=="string"||Array.isArray(e)?{content:ss(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],ud={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function fd(e){let t=!1;for(const n of e){const{role:s,parts:r}=n;if(!t&&s!=="user")throw new Ke(`First content should be with role 'user', got ${s}`);if(!ao.includes(s))throw new Ke(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(ao)}`);if(!Array.isArray(r))throw new Ke("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new Ke("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of r)for(const a of vo)a in l&&(i[a]+=1);const o=ud[s];for(const l of vo)if(!o.includes(l)&&i[l]>0)throw new Ke(`Content with role '${s}' can't contain '${l}' part`);t=!0}}function bo(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="SILENT_ERROR";class hd{constructor(t,n,s,r={}){this.model=n,this.params=s,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,s!=null&&s.history&&(fd(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var s,r,i,o,l,a;await this._sendPromise;const u=ss(t),c={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(a=this.params)===null||a===void 0?void 0:a.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n);let h;return this._sendPromise=this._sendPromise.then(()=>Wl(this._apiKey,this.model,c,f)).then(g=>{var m;if(bo(g.response)){this._history.push(u);const b=Object.assign({parts:[],role:"model"},(m=g.response.candidates)===null||m===void 0?void 0:m[0].content);this._history.push(b)}else{const b=Wt(g.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}h=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,h}async sendMessageStream(t,n={}){var s,r,i,o,l,a;await this._sendPromise;const u=ss(t),c={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(a=this.params)===null||a===void 0?void 0:a.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n),h=Vl(this._apiKey,this.model,c,f);return this._sendPromise=this._sendPromise.then(()=>h).catch(g=>{throw new Error(yo)}).then(g=>g.response).then(g=>{if(bo(g)){this._history.push(u);const m=Object.assign({},g.candidates[0].content);m.role||(m.role="model"),this._history.push(m)}else{const m=Wt(g);m&&console.warn(`sendMessageStream() was unsuccessful. ${m}. Inspect response object for details.`)}}).catch(g=>{g.message!==yo&&console.error(g)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(e,t,n,s){return(await os(t,un.COUNT_TOKENS,e,!1,JSON.stringify(n),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(e,t,n,s){return(await os(t,un.EMBED_CONTENT,e,!1,JSON.stringify(n),s)).json()}async function gd(e,t,n,s){const r=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await os(t,un.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:r}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n,s={}){this.apiKey=t,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Yl(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var s;const r=_o(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Wl(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},r),i)}async generateContentStream(t,n={}){var s;const r=_o(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Vl(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},r),i)}startChat(t){var n;return new hd(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const s=ad(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),n);return dd(this.apiKey,this.model,s,r)}async embedContent(t,n={}){const s=cd(t),r=Object.assign(Object.assign({},this._requestOptions),n);return pd(this.apiKey,this.model,s,r)}async batchEmbedContents(t,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return gd(this.apiKey,this.model,t,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Ke("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Eo(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,s){if(!t.name)throw new Jt("Cached content must contain a `name` field.");if(!t.model)throw new Jt("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const o of r)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,a=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===a)continue}throw new Jt(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Eo(this.apiKey,i,s)}}const _d={VITE_GEMINI_API_KEY:"AIzaSyC7t1vBQCrRqMsXRyp35cFg9fyQO5Ump-c"},Dn=_d,As=[Dn.VITE_GEMINI_API_KEY,Dn.VITE_GEMINI_API_KEY_2,Dn.VITE_GEMINI_API_KEY_3,Dn.VITE_GEMINI_API_KEY_4,Dn.VITE_GEMINI_API_KEY_5].filter(e=>!!e),vd=As.map(e=>new md(e)),bd=vd.map(e=>e.getGenerativeModel({model:"gemini-3-flash-preview",safetySettings:[{category:vn.HARM_CATEGORY_HARASSMENT,threshold:bn.BLOCK_NONE},{category:vn.HARM_CATEGORY_HATE_SPEECH,threshold:bn.BLOCK_NONE},{category:vn.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:bn.BLOCK_NONE},{category:vn.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:bn.BLOCK_NONE}]}));let ms=0;function yd(){const e=_e(!1),t=_e(""),n=_e(""),s=_e(null),r=_e(0),i=4e3,o=()=>As.length<=1?!1:(ms=(ms+1)%As.length,console.warn(`Switching to API Key #${ms+1}`),!0);return{isThinking:e,aiThought:t,aiTaunt:n,error:s,getBestMove:async(a,u=[])=>{if(As.length===0)return s.value="Missing Gemini API Keys",null;e.value=!0,s.value=null,t.value="";const f=Date.now()-r.value;if(f<i){const m=i-f;await new Promise(b=>setTimeout(b,m))}r.value=Date.now();const h=`
You are a Grandmaster chess engine playing Black.
Current board state (FEN): "${a}"
Valid moves: ${JSON.stringify(u)}

Analyze the position deeply. Identify threats, hanging pieces, and tactical opportunities.
Return ONLY a strictly valid JSON object. Do NOT use markdown code blocks.
Format:
{
  "move": "e2e4", 
  "thought": "Brief strategic reasoning in Vietnamese",
  "taunt": "A short, witty taunt in Vietnamese"
}
Key requirement: The 'move' MUST be in UCI format (e.g., e7e5, g8f6) and MUST be one of the valid moves provided.
`.trim(),g=async(m,b=3,R=1e3)=>{try{return(await(await bd[ms].generateContent(m)).response).text()}catch(I){if(I.message.includes("503")||I.message.includes("429")){if(console.warn(`Gemini API Error (${I.message}).`),o())return console.warn("Retrying with new key immediately..."),g(m,b,R);if(b>0)return console.warn(`Retrying in ${R}ms... (${b} retries left)`),await new Promise(T=>setTimeout(T,R)),g(m,b-1,R*2)}throw I}};try{const m=await g(h);if(console.log("Gemini Raw Response:",m),!m||!m.trim())throw console.warn("Gemini returned empty text."),new Error("Empty response from AI (likely safety block or 503)");const b=m.match(/\{[\s\S]*\}/);let R=m;b?R=b[0]:R=m.replace(/```json/g,"").replace(/```/g,"").trim();const I=JSON.parse(R);return t.value=I.thought,n.value=I.taunt,{move:I.move,thought:I.thought,taunt:I.taunt}}catch(m){throw console.error("Gemini AI Error:",m),new Error(m.message||"Gemini API Failed")}finally{e.value=!1}}}}const _s={check:["Chiu n cng! Chy i u?","Vua ca bn ang gp nguy, lo m  i!","ng hng thot, chiu tng!","Cn thn ci u ca Vua nh!"],capture:["n n! Qun ny ngon qu.","Cm n v mn qu nh!","i qun li ri!","Sai lm t gi y, mnh xin con ny."],normal:["Nc ny bn tnh bao lu ri?"," xem bn  nc ny th no.","C b d tt ?","Bn nh cng c y, nhng cha  trnh u.","Nc i th v, nhng mnh  tnh trc ri.","Cn thn y, mnh ang gi by ."],switch_mode:['Mng lag qu, ti bt "God Mode" (Stockfish) y!',"Gemini i ngh mt ri, gi bn s u vi trm cui Stockfish!",'Ht quota API ri,  mnh dng thut ton "bn hnh" cho bn.']};function Ed(e){const t=_e(!1),n=_e(""),s=_e("idle"),{getBestMove:r}=yd(),i=new Worker("/stockfish/stockfish.js"),o=c=>c[Math.floor(Math.random()*c.length)],l=(c,f)=>{const h=new Hl(c.fen());try{const g=f.substring(0,2),m=f.substring(2,4),b=f.substring(4)||void 0,R=h.move({from:g,to:m,promotion:b||"q"});return R?h.isCheckmate()?"Chiu ht! Game over!":h.isCheck()?o(_s.check):R.captured?o(_s.capture):o(_s.normal):"Nc i li ri!"}catch{return"Thinking..."}},a=c=>new Promise(f=>{i.postMessage(`position fen ${c}`),i.postMessage("go depth 10"),i.onmessage=h=>{const g=h.data;if(g&&g.startsWith("bestmove")){const m=g.split(" ")[1];f(m)}}});return{getBestMove:async(c,f)=>{s.value="thinking";try{const h=Kh(c);if(h)return await new Promise(b=>setTimeout(b,800)),{move:h,thought:"Opening Book Move",taunt:"Khai cuc bi bn y!",source:"book"};if(!t.value)try{const b=await r(c,f);if(b)return{move:b.move,thought:b.thought||"Analyzing...",taunt:b.taunt||"...",source:"gemini"}}catch(b){console.warn("Gemini Failed, switching to Stockfish...",b),t.value=!0,n.value=o(_s.switch_mode)}const g=await a(c),m=l(e,g);return{move:g,thought:"Stockfish Engine Calculation (Depth 10)",taunt:t.value?m+" (Fallback Mode)":m,source:"stockfish"}}finally{s.value="idle"}},isGeminiDead:t,aiStatus:s}}const Cd={class:"min-h-screen bg-gray-900 flex flex-col items-center justify-center p-4 md:p-8 font-sans"},Sd={class:"w-full max-w-6xl flex flex-col md:flex-row items-center justify-between mb-8 gap-4"},Ad={class:"flex items-center gap-4"},wd={class:"hidden md:flex px-3 py-1 rounded-full text-xs font-mono bg-gray-800 text-gray-400 border border-gray-700 items-center gap-2"},xd={key:0,class:"w-2 h-2 rounded-full bg-red-500 animate-pulse"},Rd={key:1,class:"w-2 h-2 rounded-full bg-emerald-500"},Od={class:"flex items-center gap-3"},Id=["title"],Td={class:"material-symbols-outlined text-xl"},Nd={class:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-3 gap-8"},Pd={class:"lg:col-span-2 flex flex-col items-center"},Md={class:"w-full max-w-[600px] flex items-center gap-1 h-8 mb-2 px-2"},kd=["src"],Ld={class:"relative w-full max-w-[600px]"},Dd={key:0,class:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-sm"},$d={class:"bg-gray-800 p-8 rounded-xl border border-gray-700 shadow-2xl text-center transform scale-110"},Fd={class:"text-3xl font-bold text-white mb-2"},Gd={class:"text-gray-400 mb-6"},Kd={class:"w-full max-w-[600px] flex items-center gap-1 h-8 mt-2 px-2"},Ud=["src"],Bd={class:"flex flex-col gap-6 h-auto lg:h-[600px]"},Hd={class:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50 backdrop-blur-sm shadow-xl"},jd={class:"flex items-center justify-between mb-4"},qd={class:"flex items-center gap-2"},Vd={class:"text-sm font-medium text-white"},Wd={key:0,class:"flex flex-col items-center justify-center py-8 space-y-3"},Yd={class:"text-gray-300 text-sm animate-pulse"},Qd={key:1,class:"space-y-4"},Jd={key:1,class:"bg-gray-900/50 p-4 rounded-xl border-l-4 border-blue-500"},zd={class:"text-gray-300 text-sm leading-relaxed"},Xd={key:2,class:"text-center py-8 text-gray-500 text-sm"},Zd={class:"flex-1 bg-gray-800/30 rounded-2xl p-6 border border-gray-700/30 overflow-hidden flex flex-col min-h-[200px]"},ep={class:"overflow-y-auto flex-1 pr-2 space-y-1 scrollbar-thin scrollbar-thumb-gray-700"},tp={class:"w-8 text-gray-500"},np=hn({__name:"GameView",setup(e){const t=Jf(),n=Kl(),s=t.params.id,{chess:r,board:i,turn:o,isGameOver:l,isCheckmate:a,fen:u,history:c,makeMove:f,resetGame:h,loadGame:g,getLegalMoves:m,getLegalMovesSAN:b,capturedPieces:R,isMuted:I,toggleMute:T}=Fh(),{getBestMove:M,isGeminiDead:P,aiStatus:ee}=Ed(r),de=_e(null),re=_e(""),be=_e(""),Me=()=>{const te={id:s,pgn:r.pgn(),capturedPieces:R.value,isMuted:I.value,lastMove:de.value,aiThought:re.value,aiTaunt:be.value,isGeminiDead:P.value};localStorage.setItem("chess_game_state",JSON.stringify(te))},Ie=()=>{try{const te=localStorage.getItem("chess_game_state");if(te){const K=JSON.parse(te);K.id===s&&K.pgn&&g(K.pgn)&&(de.value=K.lastMove,re.value=K.aiThought,be.value=K.aiTaunt,I.value=K.isMuted)}}catch(te){console.error("Error loading game",te)}};Yr(()=>{Ie()}),Bn(u,()=>{Me()});const ze=async te=>{if(l.value||o.value!=="w")return;f(te)&&(de.value=te,Me(),l.value||(await st(),Me()))},st=async()=>{if(l.value)return;const te=b();P.value?(be.value="Stockfish is calculating...",re.value=""):(be.value="",re.value="Gemini is thinking...");const K=await M(u.value,te);if(K){re.value=K.thought,be.value=K.taunt;const z=f(K.move);z&&(de.value={from:z.from,to:z.to})}},Be=()=>{h(),de.value=null,re.value="",be.value="",Me()},bt=()=>{n.push("/")},rt=(te,K)=>`/${K}${te.toUpperCase()}.svg`;return(te,K)=>(le(),pe("div",Cd,[U("header",Sd,[U("div",Ad,[U("button",{onClick:bt,class:"p-2 rounded-full hover:bg-gray-800 text-gray-400 transition-colors"},[...K[1]||(K[1]=[U("span",{class:"material-symbols-outlined"},"arrow_back",-1)])]),K[2]||(K[2]=U("h1",{class:"text-3xl md:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-cyan-500"}," Elemental Chess ",-1)),U("span",wd,[Ps(et(he(P)?"State: Stockfish":"State: Gemini")+" ",1),he(P)?(le(),pe("span",xd)):(le(),pe("span",Rd))])]),U("div",Od,[U("button",{onClick:K[0]||(K[0]=(...z)=>he(T)&&he(T)(...z)),class:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-white transition-colors border border-gray-700",title:he(I)?"Unmute":"Mute"},[U("span",Td,et(he(I)?"volume_off":"volume_up"),1)],8,Id),U("button",{onClick:Be,class:"px-6 py-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-white font-medium transition-colors border border-gray-700 flex items-center gap-2"},[...K[3]||(K[3]=[U("span",{class:"material-symbols-outlined"},"refresh",-1),U("span",{class:"hidden sm:inline"},"Reset",-1)])])])]),U("main",Nd,[U("div",Pd,[U("div",Md,[(le(!0),pe(Ne,null,Sn(he(R).b,(z,Ae)=>(le(),pe("div",{key:Ae,class:"w-6 opacity-80"},[U("img",{src:rt(z,"w"),class:"w-full"},null,8,kd)]))),128))]),U("div",Ld,[Je(ph,{board:he(i),turn:he(o),"last-move":de.value,"legal-moves":he(b)(),"get-legal-moves":he(m),onMove:ze},null,8,["board","turn","last-move","legal-moves","get-legal-moves"]),he(l)?(le(),pe("div",Dd,[U("div",$d,[U("h2",Fd,et(he(a)?he(o)==="w"?"Black Wins!":"White Wins!":"Draw!"),1),U("p",Gd,et(he(a)?"Checkmate":"Stalemate / Draw"),1),U("button",{onClick:Be,class:"px-6 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-bold transition-all"}," Play Again ")])])):xt("",!0)]),U("div",Kd,[(le(!0),pe(Ne,null,Sn(he(R).w,(z,Ae)=>(le(),pe("div",{key:Ae,class:"w-6 opacity-80"},[U("img",{src:rt(z,"b"),class:"w-full"},null,8,Ud)]))),128))])]),U("div",Bd,[U("div",Hd,[U("div",jd,[K[4]||(K[4]=U("h3",{class:"text-gray-400 uppercase text-xs font-bold tracking-wider"},"Opponent",-1)),U("span",qd,[U("div",{class:Rt(["w-2 h-2 rounded-full",he(ee)==="thinking"?"bg-yellow-400 animate-pulse":"bg-emerald-400"])},null,2),U("span",Vd,et(he(P)?"Stockfish Engine":"Gemini AI"),1)])]),he(ee)==="thinking"?(le(),pe("div",Wd,[K[5]||(K[5]=U("span",{class:"material-symbols-outlined text-5xl animate-gemini bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-purple-400 to-red-400 pb-2 selection:bg-none select-none"}," magic_button ",-1)),U("p",Yd,et(he(P)?"Stockfish is calculating...":"Gemini is thinking..."),1)])):(le(),pe("div",Qd,[be.value?(le(),pe("div",{key:0,class:Rt(["bg-gray-900/50 p-4 rounded-xl border-l-4",he(P)?"border-orange-500":"border-purple-500"])},[U("p",{class:Rt(["text-sm italic",he(P)?"text-orange-200":"text-purple-200"])},' "'+et(be.value)+'" ',3)],2)):xt("",!0),re.value?(le(),pe("div",Jd,[K[6]||(K[6]=U("h4",{class:"text-blue-400 text-xs font-bold mb-1 uppercase"},"Analysis",-1)),U("p",zd,et(re.value),1)])):xt("",!0),!be.value&&!re.value?(le(),pe("div",Xd," Make your move to start the game. ")):xt("",!0)]))]),U("div",Zd,[K[7]||(K[7]=U("h3",{class:"text-gray-400 uppercase text-xs font-bold tracking-wider mb-4"},"Move History",-1)),U("div",ep,[(le(!0),pe(Ne,null,Sn(he(c),(z,Ae)=>(le(),pe("div",{key:Ae,class:"flex text-sm border-b border-gray-800 py-1"},[U("span",tp,et(Math.floor(Ae/2)+1)+".",1),U("span",{class:Rt(Ae%2===0?"text-white":"text-gray-400")},et(z),3)]))),128))])])])])]))}}),sp=Ul(np,[["__scopeId","data-v-72b85ef1"]]),rp=Qf({history:Rf("/"),routes:[{path:"/",name:"home",component:eh},{path:"/game/:id",name:"game",component:sp}]}),Ql=Gu(Bu);Ql.use(rp);Ql.mount("#app");
